<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="tour.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE> 14  PUTTING A SYSTEM TOGETHER</TITLE>
</HEAD>
<!--------------------------------------------------->
<SCRIPT LANGUAGE="Javascript">
	// Default values
	var oNewWindow = 0;

	function ImageClick( oImage )
	{
		if( oNewWindow == 0 || oNewWindow.closed )
		{
			oNewWindow = window.open (oImage.src,"", "status=no, toolbar=no, menubar=no, location=no, resizable=yes");
		}
		else
		{
			oNewWindow.location = oImage.src;
		}
	}
</SCRIPT>
<!--------------------------------------------------->
<body bgcolor="#faf0e6">
<DIV>
<p class="top" align="center"><a href="http://www.eiffel.com">Eiffel Home Page (Web)</a> -- <a href="../index.html">Getting started with Eiffel (local)</a>

<img src="power.gif" ALT="Eiffel Home Page" align="right" border="0"  usemap="#eiffel"><map name="eiffel"><area shape="RECT" alt="Eiffel Home Page" coords="0,0,109,226" HREF="http://www.eiffel.com"><area shape="default" nohref></map>

<p class="top" ALIGN="left"><IMG SRC="lastdoc.gif" ALT="Previous, Up" BORDER="0" WIDTH="300" HEIGHT="40" USEMAP="#navigation"><map name="navigation"><AREA SHAPE="RECT" alt="Previous section" COORDS="0,0,95,40" HREF="invitation-14.html"><AREA SHAPE="RECT" alt="Up" COORDS="96,0,199,40" HREF="invitation.html"><area shape="default" nohref></MAP>
</DIV>
<H1 CLASS="aa-sec2">
<A NAME="pgfId-445601"></A>14  <A NAME="79353"></A>PUTTING A SYSTEM TOGETHER<A NAME="marker-513117"></A></H1>
<P CLASS="nn-first">
<A NAME="pgfId-513094"></A><A NAME="marker-513106"></A>We have now studied the constituents of Eiffel software. It remains to see how you can combine these elements into executable <SPAN CLASS="ff-bold">
systems</SPAN>
 -- the Eiffel concept closest to the traditional notion of program -- and libraries.
<P CLASS="nn-normal">
<A NAME="pgfId-513123"></A>How do you get an executable system? All you need is to
<UL>
<p class="nn-first"><img src="greenball.gif" alt="+">
<A NAME="pgfId-445607"></A>Provide a set of classes, called a <SPAN CLASS="ff-bold">
universe</SPAN>
<A NAME="marker-445606"></A>.
<p class="nn-first"><img src="greenball.gif" alt="+">
<A NAME="pgfId-445609"></A>Designate of these classes as the <SPAN CLASS="ff-bold">
root class</SPAN>
<A NAME="marker-445608"></A>.
<p class="nn-first"><img src="greenball.gif" alt="+">
<A NAME="pgfId-445610"></A>Designate one of its creation procedures as the <SPAN CLASS="ff-bold">
root procedure</SPAN>
<A NAME="marker-445611"></A>.
</UL>
<P CLASS="nn-first">
<A NAME="pgfId-445614"></A>This defines what it means to execute the system: create one <A NAME="marker-445612"></A>direct instance of the root class (the execution's <A NAME="marker-445613"></A><SPAN CLASS="ff-bold">
root object</SPAN>
); and call the root procedure on it. That's all.
<P CLASS="nn-normal">
<A NAME="pgfId-513182"></A>In any practical case, the root procedure will create other objects, call other routines on them, leading to further creations and calls.
<P CLASS="nn-normal">
<A NAME="pgfId-513188"></A>For the system to be valid, it must include all the classes <A NAME="marker-513558"></A>which the <SPAN CLASS="ff-bold">
</SPAN>
<A NAME="marker-513572"></A>root <SPAN CLASS="ff-bold">
needs </SPAN>
<A NAME="marker-513565"></A>directly or indirectly; a class <A NAME="NEED"></A>&quot;needs&quot; another if it is one of its heirs or clients.
<P CLASS="nn-normal">
<A NAME="pgfId-513410"></A>We can generalize these notions to encompass a library rather than an executable system, by accepting <SPAN CLASS="ee-text">
NONE</SPAN>
 as root class. Since <SPAN CLASS="ee-text">
NONE</SPAN>
 inherits from all other classes, it needs all the classes in the universe; compiling with <SPAN CLASS="ee-text">
NONE </SPAN>
as root will compile all classes. In this case you don't specify a root procedure, and the result is not executable.
<P CLASS="nn-normal">
<A NAME="pgfId-513506"></A>The Eiffel method suggests grouping related classes -- typically 5 to 40 classes -- into collections called <SPAN CLASS="ff-bold">
clusters</SPAN>
<A NAME="marker-513507"></A>. A universe is then a set of clusters. For example the EiffelBase library is divided into clusters corresponding each to a major category of data structure: <SPAN CLASS="ee-text">
lists</SPAN>
, <SPAN CLASS="ee-text">
tables</SPAN>
, <SPAN CLASS="ee-text">
iteration</SPAN>
 and so on. You can nest clusters, using for example EiffelBase, with its own subclusters as listed, as a cluster of your system.
<P CLASS="nn-normal">
<A NAME="pgfId-513508"></A>How will you specify a universe? Any Eiffel implementation can use its own conventions. EiffelStudio applies a simple policy:
<UL>
<p class="nn-first"><img src="greenball.gif" alt="+">
<A NAME="pgfId-513452"></A><A NAME="marker-513450"></A>Store <A NAME="marker-513460"></A>each class in a single file, called its <A NAME="marker-513451"></A>class file, with a name of the form <SPAN CLASS="ee-text">
name</SPAN>
<SPAN CLASS="ee-dot">
.</SPAN>
<SPAN CLASS="ee-keyword">
e</SPAN>
. For clarity, <SPAN CLASS="ee-text">
name</SPAN>
 should be the lower-case version of the class name, although this is a style rule, not a requirement.
<p class="nn-first"><img src="greenball.gif" alt="+">
<A NAME="pgfId-513476"></A>Put all the class files of a cluster into a single directory (folder on Windows), called its cluster directory.
</UL>
<P CLASS="jj-small">
<A NAME="pgfId-513501"></A>It is desirable for clarity, as a style rule, to separate clusters that directly contain classes (&quot;terminal clusters&quot;) from those that have subclusters. Cluster directories will then contain class files or cluster subdirectories, but not both.
<UL>
<p class="nn-first"><img src="greenball.gif" alt="+">
<A NAME="pgfId-513545"></A>To specify a system, it suffices to provide a list of cluster directories, along with the name of the root class and root procedure. The universe consists of the classes contained in all the class files in the listed cluster directories.
</UL>
<P CLASS="nn-normal">
<A NAME="pgfId-445634"></A><A NAME="marker-445632"></A>Here is<A NAME="marker-445633"></A> an example of such a system specification. It's <SPAN CLASS="ff-italics">
not</SPAN>
 written in Eiffel, although it definitely has an Eiffel-like flavor. <A NAME="marker-445635"></A>It is called an <SPAN CLASS="ff-bold">
Ace</SPAN>
<A NAME="marker-445636"></A> (Assembly of Classes in Eiffel) and written in the Eiffel-like <SPAN CLASS="ff-bold">
Lace </SPAN>
<A NAME="marker-513784"></A><A NAME="marker-513785"></A>notation (Language for the Assembly of Classes in Eiffel). The backward slash <SPAN CLASS="ee-keyword">
&#92;</SPAN>
 is the Windows path separator; <A NAME="marker-513607"></A>Unix uses a forward slash <SPAN CLASS="ee-keyword">
/</SPAN>
 for the same purpose (EiffelStudio will accept both on Windows<A NAME="marker-513600"></A>). <A NAME="marker-513593"></A>
<p><ul><table width="79%">
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="ee-text">
<A NAME="pgfId-445646"></A><SPAN CLASS="ee-keyword">
system</SPAN>
<A NAME="marker-445645"></A>
<P CLASS="ee-text">
<A NAME="pgfId-445647"></A>&nbsp;&nbsp;&nbsp;&nbsp;example
<P CLASS="ee-text">
<A NAME="pgfId-445649"></A><SPAN CLASS="ee-keyword">
root</SPAN>
<A NAME="marker-445648"></A>
<P CLASS="ee-text">
<A NAME="pgfId-445650"></A>&nbsp;&nbsp;&nbsp;&nbsp;CALCULATOR (my_cluster1): &quot;make&quot;
<P CLASS="ee-text">
<A NAME="pgfId-445652"></A><SPAN CLASS="ee-keyword">
default</SPAN>
<A NAME="marker-445651"></A>
<P CLASS="ee-text">
<A NAME="pgfId-445655"></A>&nbsp;&nbsp;&nbsp;&nbsp;<SPAN CLASS="ee-keyword">
assertion </SPAN>
<A NAME="marker-445653"></A><A NAME="marker-445654"></A>(<SPAN CLASS="ee-keyword">
ensure</SPAN>
)
<P CLASS="ee-text">
<A NAME="pgfId-513626"></A>&nbsp;&nbsp;&nbsp;&nbsp;<SPAN CLASS="ee-keyword">
precompiled</SPAN>
<A NAME="marker-513624"></A><A NAME="marker-513625"></A>
<P CLASS="ee-text">
<A NAME="pgfId-513627"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&quot;<SPAN CLASS="ee-keyword">
$</SPAN>
<SPAN CLASS="ee-text">
ISE_EIFFEL</SPAN>
&#92;  precomp&#92;  spec&#92;  <SPAN CLASS="ee-keyword">
$</SPAN>
PLATFORM&#92;  base&quot;)
<P CLASS="ee-text">
<A NAME="pgfId-513629"></A><SPAN CLASS="ee-keyword">
cluster</SPAN>
<A NAME="marker-513628"></A>
<P CLASS="ee-text">
<A NAME="pgfId-452665"></A>&nbsp;&nbsp;&nbsp;&nbsp;my_cluster1: &quot;mydir&#92; project1&#92; subdir&quot;
<P CLASS="ee-text">
<A NAME="pgfId-452670"></A>&nbsp;&nbsp;&nbsp;&nbsp;her_cluster2: &quot;herdir &#92;project2&#92; subdir1&#92; subdir2&quot;
<P CLASS="ee-text">
<A NAME="pgfId-445662"></A><SPAN CLASS="ee-keyword">
end</SPAN>
<A NAME="marker-445664"></A>
</TD>
</TR>
</table></ul><p>
<P CLASS="nn-first">
<A NAME="pgfId-513704"></A><A NAME="marker-513851"></A>With<A NAME="marker-513858"></A> EiffelStudio you don't have to write the Ace yourself; just specify the information interactively through the Preferences dialog and EiffelStudio will generate the Ace. You can also reuse and adapt one of the many example Aces in the delivery.
<P CLASS="nn-normal">
<A NAME="pgfId-513813"></A>So you don't need to learn the syntax of Lace, although as the example shows it is straightforward. The Ace first gives the system a name, <SPAN CLASS="ee-text">
example</SPAN>
, which will also serve as the name of the generated executable. It then specifies the root class, its cluster (optional), and the root procedure. Next, in the <SPAN CLASS="ee-keyword">
default</SPAN>
 clause, come <A NAME="marker-513814"></A>compilation options; you can specify assertion monitoring, with choices that include <SPAN CLASS="ee-keyword">
none</SPAN>
, <SPAN CLASS="ee-keyword">
require </SPAN>
(preconditions only, the default), <SPAN CLASS="ee-keyword">
ensure</SPAN>
 (preconditions and postconditions, as here) and <SPAN CLASS="ee-keyword">
invariant </SPAN>
(the previous two plus class invariants). You can also specify various levels of assertion monitoring separately for a cluster, or for a specific class. The <SPAN CLASS="ee-keyword">
precompiled </SPAN>
option specifies use of a precompiled library, EiffelBase, at the path given. The Ace ends with a list of clusters, other than those of EiffelBase, specifying for a cluster name, such as <SPAN CLASS="ee-text">
my_cluster1</SPAN>
, and the directory where it resides.
<P CLASS="jj-small">
<A NAME="pgfId-513815"></A>The path names in this example use the Windows path separator, a backward slash <SPAN CLASS="ee-keyword">
&#92;</SPAN>
. <A NAME="marker-513823"></A>Unix uses a forward slash <SPAN CLASS="ee-keyword">
/</SPAN>
 (also acceptable on Windows<A NAME="marker-513824"></A>) for the same purpose. <A NAME="marker-513825"></A>
<P CLASS="nn-normal">
<A NAME="pgfId-445686"></A>This Ace is from an example in the delivery. If you compile and execute it, it will create an instance of class <SPAN CLASS="ee-text">
CALCULATOR</SPAN>
 and call its <SPAN CLASS="ee-text">
make</SPAN>
 procedure. This starts a small interactive calculator, illustrating some of the simple mechanisms of EiffelBase. <A NAME="marker-445687"></A>      <SPAN CLASS="ee-text">
         </SPAN>
<A NAME="marker-445688"></A><A NAME="marker-445689"></A><A NAME="marker-445690"></A><A NAME="marker-445691"></A>
<p class="bottom" ALIGN="left"><IMG SRC="lastdoc.gif" ALT="Previous, Up" BORDER="0" WIDTH="300" HEIGHT="40" USEMAP="#navigation"><map name="navigation"><AREA SHAPE="RECT" alt="Previous section" COORDS="0,0,95,40" HREF="invitation-14.html"><AREA SHAPE="RECT" alt="Up" COORDS="96,0,199,40" HREF="invitation.html"><area shape="default" nohref></MAP>

<p class="bottom" align="center"><a href="http://www.eiffel.com">Eiffel Home Page (Web)</a> -- <a href="../index.html">Getting started with Eiffel (local)</a>

<p class="copyright" align="center">Copyright Interactive Software Engineering, 2001
</BODY>
</HTML>
