<!DOCTYPE HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<HTML>
	<HEAD>
		<TITLE>EiffelBase Data Structures, Tables</TITLE>
		<LINK REL=StyleSheet HREF="../../../../default.css">
	</HEAD>

	<BODY>
        <h1>Exception handling</h1>
        <p>Class <a CLASS="eclass" HREF="../../reference/10_kernel/exceptions_chart.html">EXCEPTIONS</a>
        enables you to control the handling of exceptions.<br>
        The basic exception mechanism treats all exceptions in the same way. In some cases
        it may be useful to discriminate in a Rescue clause between the various possible causes.<br>
        Class <a CLASS="eclass" HREF="../../reference/10_kernel/exceptions_chart.html">EXCEPTIONS</a>
        provides the features to do this. For example, you can use:</p>
        <ul>
          <li>The query <a CLASS="efeature" HREF="../../reference/10_kernel/exceptions.html#f_exception">exception</a>
            which gives the SYSTEM_EXCEPTION object that represents the latest exception.</li>
          <li>Query <a CLASS="efeature" HREF="../../reference/10_kernel/exceptions.html#f_is_developer_exception">is_developer_exception</a>
            which determines whether the latest exception was explicitly caused by a
            raise or not.</li>
          <li>Query <a CLASS="efeature" HREF="../../reference/10_kernel/exceptions.html#f_recipient_name">recipient_name</a>
            which gives the name of the exception’s recipient - the
            routine that was interrupted by the exception.</li>
        </ul>
        <p>One occasional requirement is for a mechanism to trigger an exception
        explicitly. Procedure <a CLASS="efeature" HREF="../../reference/10_kernel/exceptions.html#f_raise">raise</a>
        answers this needs; the argument, a string, is the tag chosen for the exception.
        In this case, the query <a CLASS="efeature" HREF="../../reference/10_kernel/exceptions.html#f_is_developer_exception">is_developer_exception</a>
        will return true; and the tag is accessible through feature <a CLASS="efeature" HREF="../../reference/10_kernel/exceptions.html#f_tag_name">tag_name</a>.<br>
        You will notice in the interface specification for <a CLASS="eclass" HREF="../../reference/10_kernel/exceptions_chart.html">EXCEPTIONS</a>
        that for some properties of the latest exception there are two features, one with a name such as
        <a CLASS="efeature" HREF="../../reference/10_kernel/exceptions.html#f_exception">exception</a>
        or <a CLASS="efeature" HREF="../../reference/10_kernel/exceptions.html#f_recipient_name">recipient_name</a>
        as seen above and the other with a name prefixed by original_: <a CLASS="efeature" HREF="../../reference/10_kernel/exceptions.html#f_original_exception">original_exception</a>,
        <a href="../../reference/10_kernel/exceptions.html#f_original_recipient_name">original_recipient_name</a>.</p>
        <p class="warning"><b>
        CAUTION</b>: The reason for the presence of these pairs is that the immediately visible cause of a
        routine interruption may not be the real one. Assume that routine <SPAN CLASS="efeature">r</SPAN> from class <SPAN CLASS="eclass">C</SPAN>, which
        has a Rescue clause, calls <SPAN CLASS="efeature">s</SPAN> from <SPAN CLASS="eclass">D</SPAN> with no Rescue clause, and that some call executed
        by <SPAN CLASS="efeature">s</SPAN> causes a precondition violation. Because <SPAN CLASS="efeature">s</SPAN> has no Rescue clause of its own, <SPAN CLASS="efeature">s</SPAN> will fail. Up the call chain, the first
        routine that has a Rescue clause - <SPAN CLASS="efeature">r</SPAN> itself, or one of its own direct or indirect callers -
        may process the exception; but if it examines the exception object through
        routine exception it will a routine failure. This may be what you want; but to
        handle the situation in a finer way you will usually need to examine the
        original exception, the one that interrupted <SPAN CLASS="efeature">s</SPAN>. This
        exception will be accessible through the
        attribute <a CLASS="efeature" HREF="../../reference/10_kernel/exceptions.html#f_original_exception">original_exception</a>, which in this case will have the value of&nbsp;
        precondition violations. So you have the choice between exploring
        the properties of the original exception, or those of the resulting routine failures. Just
        make sure you know what you are looking for.</p>
        <p>As you will see from the header comments in the flat-short form of class
        <a CLASS="eclass" HREF="../../reference/10_kernel/exceptions_chart.html">EXCEPTIONS</a>, the queries that return detailed information about an
        exception, all give an answer determined by <a CLASS="efeature" HREF="../../reference/10_kernel/exceptions.html#f_original_exception">original_exception</a>
        rather than <a CLASS="efeature" HREF="../../reference/10_kernel/exceptions.html#f_exception">exception</a>, since when the two are different (that is to say, when you handle the
        exception in a routine other than the original recipient) <a CLASS="efeature" HREF="../../reference/10_kernel/exceptions.html#f_exception">exception</a>
        always returns a <SPAN CLASS="efeature">routine failure object</SPAN> and there is nothing more to say about it.</p>
        <h3><a name="EXCEPTION_MANAGER">EXCEPTION_MANAGER</a></h3>
        <p>Class <a CLASS="eclass" HREF="../../reference/10_kernel/exceptions_chart.html">EXCEPTIONS</a>
        is client of <a href="../../reference/10_kernel/exception_manager_chart.html"> EXCEPTION_MANAGER</a> which is a run-time
        class that handles directly exceptions. Indeed, routines exception and
        raise directly rely on this class to retrieve the latest exception or to
        artificially raise one.</p>
        <p>Class <a href="../../reference/10_kernel/exception_manager_chart.html"> EXCEPTION_MANAGER</a>has the following features:</p>
        <ul>
          <li><a href="../../reference/10_kernel/exception_manager.html#f_make">make</a>: to create the
            <a href="../../reference/10_kernel/exception_manager_chart.html"> EXCEPTION_MANAGER</a>object.</li>
          <li><a href="../../reference/10_kernel/exception_manager.html#f_last_exception">last_exception</a>: to retrieve the latest occurred exception</li>
          <li><a href="../../reference/10_kernel/exception_manager.html#f_raise">raise</a>: to raise a developer exception.</li>
        </ul>
	</BODY>
</HTML>
