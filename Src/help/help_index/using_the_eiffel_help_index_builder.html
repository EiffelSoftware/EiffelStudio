<?xml version="1.0"?>

<!DOCTYPE help_doc [
<!ELEMENT document (title, body)>
<!ELEMENT body (topic+)>
<!ELEMENT topic (head, text)>
<!ELEMENT text (#PCDATA)>
]>

<document>
<title>Using the Eiffel Help Index Builder</title>
<body>
<topic>
<head></head>

<text>
The Eiffel Help Index Builder generates a combination word database and glossary.  The Index Builder will ignore all XML code, and all
words in the <i>bad_words</i>  file.  The generated file is an Eiffel storable object, which may be easily retrieved and searched by the 
target system.  The Index Builder may be invoked from the command line with the following usage:

<br/><br/>
  <b>index start_dir [-g glossary] [-o out_file] [-b bad_words] [-p punctuation]</b>
</text>
</topic>

<topic>
<head>An Eiffel Code example</head>

<!--This is an example of Eiffel code in a help file.
It has nothing to do with the Help Index Builder-->

<text>
<ek>indexing</ek><br/>
	description: "Topic Header"<br/>
	author: "Parker Abercrombie"<br/>
	date: "$Date$"<br/>

<br/>
<ek>class interface</ek><br/>
	<ecl>HEADER</ecl><br/>

<br/>
<ek>create</ek><br/>

<br/>
	<ef>make</ef> (a_parent: <ecl>XML_ELEMENT</ecl>)<br/>
			-- <ec>(from</ec> <ecl>XML_NODE</ecl><ec>)</ec><br/>

<br/>
<ek>feature</ek> -- <ec>Access</ec><br/>

<br/>
	<ef>item</ef> (i: <ecl>INTEGER</ecl>): <ecl>XML_NODE</ecl><br/>
			-- <ec>Item at index</ec> `i'<br/>
			-- <ec>Was declared in</ec> <ecl>DS_LINKED_LIST</ecl> <ec>as synonym of</ec> `@' <ec>and</ec> `item'.<br/>
			-- <ec>(from</ec> <ecl>DS_LINKED_LIST</ecl><ec>)</ec><br/>
		<ek>require</ek> -- <ec>from</ec> <ecl>DS_TABLE</ecl><br/>
			valid_entry: <ef>valid_entry</ef> (k)<br/>

<br/>
	<ek>infix</ek> "@" (i: <ecl>INTEGER</ecl>): <ecl>XML_NODE</ecl><br/>
   			-- <ec>Item at index</ec> `i'<br/>
			-- <ec>Was declared in</ec> <ecl>DS_LINKED_LIST</ecl> <ec>as synonym of</ec> `@' <ec>and</ec> `item'.<br/>
			-- <ec>(from</ec> <ecl>DS_LINKED_LIST</ecl><ec>)</ec><br/>
		<ek>require</ek> -- <ec>from</ec> <ecl>DS_TABLE</ecl><br/>
			valid_entry: <ef>valid_entry</ef> (k)<br/>

<br/>
<ek>feature</ek> -- <ec>Measurement</ec><br/>

<br/>
	<ef>occurrences</ef> (v: <ecl>XML_NODE</ecl>): <ecl>INTEGER</ecl><br/>
			-- <ec>Number of times</ec> `v' <ec>appears in structure</ec><br/>
			-- <ec>(Use `searcher''s comparison criterion.)</ec><br/>
			-- <ec>(from</ec> <ecl>DS_SEARCHABLE</ecl><ec>)</ec><br/>
		<ek>ensure</ek> -- <ec>from</ec> <ecl>DS_SEARCHABLE</ecl><br/>
			positive: Result >= 0;<br/>
			has: <ef>has</ef> (v) <ek>implies</ek> Result >= 1<br/>

<br/>	
<ek>invariant</ek><br/>

<br/>
		-- <ec>from</ec> <ecl>GENERAL</ecl><br/>
	reflexive_equality: <ef>standard_is_equal</ef> (Current);<br/>
	reflexive_conformance: <ef>conforms_to</ef> (Current);<br/>

<br/>
<ek>end</ek> -- <ec>class</ec> <ecl>HEADER</ecl><br/>
</text>
</topic>

<topic>
<head>start_dir</head>

<text>
The directory you want to index.  The Index Builder will process all files in <i>start_dir</i> and all its subdirectories.  All file 
names stored in the database will be relative to this directory, so that you only have to set one attribute for the target system to 
find all the help files.
</text>
</topic>

<topic>
<head>glossary</head>

<text>
The location of the glossary.  If no file name is given, the Index Builder will look for a file called <i>glossary</i>. 
The glossary file should have the format:

    <br/>
	word<br/>
	definition<br/>
	word<br/>
	definition<br/>
	word<br/>
	definition<br/>
	...
</text>
</topic>

<topic>
<text>
<head>out_file</head>

The name to give to the created index file.  If no name is specified, the file will be called <i>word_list</i>.
</text>
</topic>

<topic>
<head>bad_words</head>

<text>
The location of the file containing words to exclude from the database.  These may be insignifigant words such as "the" and "a".
If no file name is given the program will look for a file called <i>bad_words</i>.  Each word should be on a seperate line, like this:

    <br/>
	word<br/>
	word<br/>
	word<br/>
	...
</text>
</topic>

<topic>
<head>punctuation</head>

<text>
The location of the file containing punctuation to ignore.  This punctuation will be removed from each word that is indexed.  If no 
file name is given, the default is <i>punctuation</i>. The file should have all the characters on one line, like this:

    <br/>
	.,!?"'`()[]{}:;
</text>
</topic>

</body>
</document>