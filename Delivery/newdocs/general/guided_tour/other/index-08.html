<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="tour.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE> 7  CLASS VIEWS</TITLE>
</HEAD>
<!--------------------------------------------------->
<SCRIPT LANGUAGE="Javascript">
	// Default values
	var oNewWindow = 0;

	function ImageClick( oImage )
	{
		if( oNewWindow == 0 || oNewWindow.closed )
		{
			oNewWindow = window.open (oImage.src,"", "status=no, toolbar=no, menubar=no, location=no, resizable=yes");
		}
		else
		{
			oNewWindow.location = oImage.src;
		}
	}
</SCRIPT>
<!--------------------------------------------------->
<body bgcolor="#faf0e6">
<DIV>
<p class="top" align="center"><a href="http://www.eiffel.com">Eiffel Home Page (Web)</a> -- <a href="../index.html">Getting started with Eiffel (local)</a>

<img src="power.gif" ALT="Eiffel Home Page" align="right" border="0"  usemap="#eiffel"><map name="eiffel"><area shape="RECT" alt="Eiffel Home Page" coords="0,0,109,226" HREF="http://www.eiffel.com"><area shape="default" nohref></map>

<p class="top" ALIGN="left"><IMG SRC="normaldoc.gif" ALT="Previous, Up, Next" BORDER="0" WIDTH="300" HEIGHT="40" USEMAP="#navigation"><map name="navigation"><AREA SHAPE="RECT" alt="Previous section" COORDS="0,0,95,40" HREF="index-07.html"><AREA SHAPE="RECT" alt="Up" COORDS="96,0,199,40" HREF="index.html"><AREA SHAPE="RECT" alt="Next section" COORDS="200,0,300,40" HREF="index-09.html"><area shape="default" nohref></MAP>
</DIV>
<H1 CLASS="aa-sec2">
<A NAME="pgfId-479692"></A>7  <SPAN CLASS="ff-bold">
CLASS VIEWS</SPAN>
<A NAME="76845"></A></H1>
<P CLASS="nn-first">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="tour-help.html">Help reading this manual</a>
<P CLASS="nn-first">
<A NAME="pgfId-487092"></A>We haven't even looked at a class text yet, but it's important anyway to see how EiffelStudio provides you with numerous, complementary <SPAN CLASS="ff-italics">
views</SPAN>
 of your software. The Context Pane is the primary place to look for such views.
<P CLASS="nn-normal">
<A NAME="pgfId-487093"></A>We'll need just one Development Tool for the moment, the one that was targeted to <SPAN CLASS="ee-text">
LIST</SPAN>
. You can get rid of the others by closing their windows (through the top right cross mark on Windows and the equivalent in other window managers), or through <SPAN CLASS="ee-keyword">
File </SPAN>
<SPAN CLASS="ee-symbol">
--> </SPAN>
<SPAN CLASS="ee-keyword">
Close</SPAN>
 -- but don't select &quot;Exit&quot; which would take you out of EiffelStudio altogether!
<P CLASS="jj-small">
<A NAME="pgfId-487109"></A>If you don't see a tool targeted to <SPAN CLASS="ee-text">
LIST</SPAN>
, just retarget one, as you know how to do this now, for example by typing the name followed by Enter in the Class Field at the top left.
<P CLASS="nn-first">
<A NAME="pgfId-487112"></A>First let's give ourselves more space. Right now we don't need the Cluster Tree and Feature Tree panes. Get rid of them by clicking the corresponding buttons on the top toolbar:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-25.png"><IMG WIDTH="100" SRC="index-25.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-487141"></A>You can get these panes back later by clicking the same buttons again.
<P CLASS="jj-small">
<A NAME="pgfId-487131"></A>Another way to hide a pane is to click its Close icon, the little cross mark highlighted (for the Features Tree pane) on the left in the last figure.
<P CLASS="nn-first">
<A NAME="pgfId-487144"></A>Two panes remain, Text and Context.
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-26.png"><IMG WIDTH="100" SRC="index-26.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-487154"></A>Make sure the Context Pane is large enough; you can resize the window and, if necessary, narrow down the Text pane since we don't need it for the moment. Don't worry, though, if the Context Pane shows only part of the diagram, as it does on the last figure, since we will use the Context Tool to show other views.
<DIV>
<H2 CLASS="aa-sec3">
<A NAME="pgfId-495624"></A>The Class View</H2>
<P CLASS="nn-first">
<A NAME="pgfId-487167"></A>The first view we'll look at is the Class View. You get it by clicking the corresponding tab at the bottom:
<DIV>
<p>
<ul>
<!----><IMG SRC="index-27.png">
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-487195"></A>This gives you access to many forms of information about the current class -- the target of the Development Tool. A set of buttons at the top of the Context Pane enables you to display a number of <SPAN CLASS="ff-bold">
views</SPAN>
 of the class. The currently highlighted button indicates the default view: <SPAN CLASS="ee-keyword">
Ancestors</SPAN>
. You can see the others'names by moving the cursor over the various view icons, <SPAN CLASS="ff-bold">
without clicking</SPAN>
, and reading the tooltips.
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-28.png"><IMG WIDTH="100" SRC="index-28.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-487269"></A>The view currently displayed, <SPAN CLASS="ee-keyword">
Ancestors</SPAN>
, shows the inheritance structure that leads to the current target, <SPAN CLASS="ee-text">
LIST</SPAN>
:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-29.png"><IMG WIDTH="100" SRC="index-29.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-487298"></A>This shows that <SPAN CLASS="ee-text">
LIST</SPAN>
 is an heir of <SPAN CLASS="ee-text">
CHAIN</SPAN>
 which itself, as an example of multiple inheritance, is an heir of <SPAN CLASS="ee-text">
CURSOR_STRUCTURE</SPAN>
, <SPAN CLASS="ee-text">
INDEXABLE</SPAN>
, and -- twice, as an example of <SPAN CLASS="ff-italics">
repeated</SPAN>
 inheritance -- <SPAN CLASS="ee-text">
SEQUENCE</SPAN>
. If, because of direct or indirect repeated inheritance, a class appears more than once, the display doesn't repeat its ancestry the second and subsequent times; the omitted repetition appears as just three dots, <SPAN CLASS="ee-dot">
...</SPAN>
, as illustrated here for the second occurrences of <SPAN CLASS="ee-text">
BAG</SPAN>
, <SPAN CLASS="ee-text">
ACTIVE</SPAN>
 and others.
<P CLASS="nn-normal">
<A NAME="pgfId-487299"></A>As you may have guessed, all the class names that appear on this display, by default in blue, can function as hyperlinks: you can use any one of them to retarget the Development Tool to the corresponding class. This will be another major retargeting mechanism. But let's not pursue it for the moment and instead continue looking at the documentation views.
<P CLASS="nn-normal">
<A NAME="pgfId-487304"></A>Next to <SPAN CLASS="ee-keyword">
Ancestors</SPAN>
 is <SPAN CLASS="ee-keyword">
Descendants</SPAN>
, which will give you the descendants of a class in a similar format:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-30.png"><IMG WIDTH="100" SRC="index-30.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-487300"></A>The progeny of <SPAN CLASS="ee-text">
LIST</SPAN>
, as you can see, is just as impressive as its ancestry.
<P CLASS="nn-normal">
<A NAME="pgfId-490903"></A>Let's now look at the other formats starting from the left. The first button, <SPAN CLASS="ee-keyword">
Clickable</SPAN>
, gives the class text. It's essentially the same information as appears in the top Text Pane (reduced to its bare minimum in the last few pictures, to show only the first three lines or so), but with some differences:
<UL>
<LI CLASS="ll-bull">
<A NAME="pgfId-490906"></A>The top Text view is editable. In fact it will be your primary tool for entering software texts. The botton <SPAN CLASS="ee-keyword">
Clickable </SPAN>
view is just a view; you can't change it.</LI>
<LI CLASS="ll-bull">
<A NAME="pgfId-490907"></A>The Text view retains the formating of the class text the way it was typed in; the <SPAN CLASS="ee-keyword">
Clickable</SPAN>
 view is automatically formatted -- &quot;pretty-printed&quot; -- according to the standard Eiffel layout rules.</LI>
<LI CLASS="ll-bull">
<A NAME="pgfId-491071"></A>The <SPAN CLASS="ee-keyword">
Clickable </SPAN>
view does not include comments inside routine implementations (<SPAN CLASS="ee-keyword">
do</SPAN>
 and <SPAN CLASS="ee-keyword">
once</SPAN>
 clauses), although it does retain features' header comments.</LI>
<LI CLASS="ll-bull">
<A NAME="pgfId-490916"></A>As part of the pretty-printing, the <SPAN CLASS="ee-keyword">
Clickable</SPAN>
 view uses colors and fonts to distinguish keywords, identifiers, comments and other syntactical elements. You can change the fonts and colors, like many other elements of the interface, through <SPAN CLASS="ee-keyword">
Tools </SPAN>
<SPAN CLASS="ee-symbol">
--> </SPAN>
<SPAN CLASS="ee-keyword">
Preferences</SPAN>
. (Now's not the time.)</LI>
</UL>
<P CLASS="nn-first">
<A NAME="pgfId-490935"></A>This view is called &quot;clickable&quot; because, as we'll see later, every syntactical element on it is a hyperlink, which you can use for browsing. Here is the beginning of the <SPAN CLASS="ee-text">
LIST</SPAN>
 class text in <SPAN CLASS="ee-keyword">
Clickable </SPAN>
view:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-31.png"><IMG WIDTH="100" SRC="index-31.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-490978"></A>After <SPAN CLASS="ee-keyword">
Clickable</SPAN>
 comes the <SPAN CLASS="ee-keyword">
Flat</SPAN>
 view button. The layout of the result is similar:
<DIV>
<MAP NAME="index-32">
</MAP>
<p>
<ul>
<A TARGET="screenshots" HREF="index-32.png"><IMG WIDTH="100" SRC="index-32.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-490987"></A>The flat form of a class is the reconstructed class text including not only what's declared in the class itself but also everything that it inherits from its ancestors, direct or indirect. This applies to the flat form's features, which include ancestor features, but also to contracts: the flat form's invariant includes all clauses from ancestors' invariants, and the preconditions are expanded to take <SPAN CLASS="ee-keyword">
require else</SPAN>
 and <SPAN CLASS="ee-keyword">
ensure then</SPAN>
 clauses into consideration. (The <SPAN CLASS="ww-crossref">
<A HREF="tutorial.html" CLASS="URL">Eiffel Tutorial</A></SPAN>
 explains these notions in detail.)
<P CLASS="nn-normal">
<A NAME="pgfId-490995"></A>As a result, the <SPAN CLASS="ee-keyword">
Flat </SPAN>
view shows the class text as it might have been written had inheritance (what a horrible thought even to contemplate!) <SPAN CLASS="ff-italics">
not</SPAN>
 been available to write it.
<P CLASS="nn-normal">
<A NAME="pgfId-491015"></A>The first two features appearing in the above display, <SPAN CLASS="ee-text">
cursor</SPAN>
 and <SPAN CLASS="ee-text">
first</SPAN>
, are indeed inherited from ancestors, rather than declared in <SPAN CLASS="ee-text">
LIST</SPAN>
 itself. Note how EiffelStudio, when producing the flat form, adds a line of the form <SPAN CLASS="ee-comment">
-- (From </SPAN>
<SPAN CLASS="ee-text">
CLASS_OF_ORIGIN</SPAN>
<SPAN CLASS="ee-comment">
)</SPAN>
 to the header comments of inherited routines, to document where they come from.
<P CLASS="nn-normal">
<A NAME="pgfId-491020"></A>The flat form is an important notion of object technology, making it possible to understand a class by itself, regardless of the sophistication of the inheritance structure that led to it. Looking at the Flat view of <SPAN CLASS="ee-text">
LIST</SPAN>
, you may note how little of the information comes from the class itself; most of the interesting work has been done in ancestors, and <SPAN CLASS="ee-text">
LIST</SPAN>
 just adds a few details.
<P CLASS="jj-small">
<A NAME="pgfId-491043"></A>If at any time you want to search for a certain pattern in the views displayed, click the <SPAN CLASS="ee-keyword">
Search</SPAN>
 button at the top of the window, or type CTRL-<SPAN CLASS="ee-keyword">
F</SPAN>
. A self-explanatory Search Pane will come up, with various options such as <SPAN CLASS="ff-italics">
Match case</SPAN>
 and <SPAN CLASS="ff-italics">
Whole word</SPAN>
. 
<P CLASS="nn-first">
<A NAME="pgfId-491033"></A>Next come two essential documentation views: <SPAN CLASS="ee-keyword">
Contract</SPAN>
 and <SPAN CLASS="ee-keyword">
Interface</SPAN>
. Based on Eiffel's principles of Design by Contract, they document the interface properties of a class. Unlike the previous two, they do not show actual Eiffel texts, but information useful for client classes.
<P CLASS="nn-normal">
<A NAME="pgfId-491039"></A>Here is the beginning of the <SPAN CLASS="ee-keyword">
Contract</SPAN>
 view for our example class <SPAN CLASS="ee-text">
LIST</SPAN>
:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-33.png"><IMG WIDTH="100" SRC="index-33.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-491058"></A>The contract form (also known as the <SPAN CLASS="ff-bold">
short form</SPAN>
 of a class) is the class text deprived of any internal detail to retain interface information only. It discards any feature that's not exported (available to all clients); for the retained features, it discards the implementation -- <SPAN CLASS="ee-keyword">
do</SPAN>
 or <SPAN CLASS="ee-keyword">
once</SPAN>
 clause -- but retains the header (feature name, arguments, results), the header comment, and the contracts (precondition, postcondition, invariant) minus any contract clause that refers to a non-exported feature and hence would be useless to clients.
<P CLASS="nn-normal">
<A NAME="pgfId-491072"></A>As you will know, especially if you have read the book <SPAN CLASS="ff-note">
<A HREF="http://eiffel.com/doc/oosc/" CLASS="URL"></A></SPAN>
<SPAN CLASS="ww-crossref">
Object-Oriented Software Construction</SPAN>
, the contract form is the preferred way of documenting software elements, especially reusable components, as it provides clients with just the right level of abstraction: precise enough thanks to the type signature and especially the contracts; clear enough thanks to the header comments; and general enough since it omits implementation details that are irrelevant to client programmers (and might lead them to write client code that won't work any more if the implementation changes).
<P CLASS="nn-normal">
<A NAME="pgfId-491088"></A>In practice you will often want to use, instead of the <SPAN CLASS="ee-keyword">
Contract </SPAN>
view, the next one, <SPAN CLASS="ee-keyword">
Interface</SPAN>
, also known as &quot;flat-short form&quot;, which applies the same rules to the flat form rather than to the original class. This means it shows information on all the features of the class, immediate (defined in the class itself) as well as inherited, whereas the short form, non-flat, only considers immediate features. The <SPAN CLASS="ee-keyword">
Interface</SPAN>
 view provides the complete interface information for the class. Try it now on class <SPAN CLASS="ee-text">
LIST</SPAN>
.
<P CLASS="nn-normal">
<A NAME="pgfId-510901"></A>The next two buttons are for the <SPAN CLASS="ee-keyword">
Ancestors</SPAN>
 and <SPAN CLASS="ee-keyword">
Descendants</SPAN>
 views, which we have already seen, showing classes connected with the target through one of the two inter-class relations, inheritance. After them come <SPAN CLASS="ee-keyword">
Clients</SPAN>
 and <SPAN CLASS="ee-keyword">
Suppliers</SPAN>
, to list the classes connected through the other relation, client. Clicking the <SPAN CLASS="ee-keyword">
Clients</SPAN>
 button shows the (empty) list of clients of <SPAN CLASS="ee-text">
LIST</SPAN>
: 
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-34.png"><IMG WIDTH="100" SRC="index-34.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-510905"></A>No class of this system directly uses <SPAN CLASS="ee-text">
LIST</SPAN>
 as client, although some use its descendant <SPAN CLASS="ee-text">
ARRAYED_LIST</SPAN>
. Now click the next button to see the <SPAN CLASS="ee-keyword">
Suppliers</SPAN>
 of <SPAN CLASS="ee-text">
LIST</SPAN>
:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-35.png"><IMG WIDTH="100" SRC="index-35.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-491124"></A>The only two classes that <SPAN CLASS="ee-text">
LIST</SPAN>
 needs for its own algorithms are basic types from the Kernel Libray, <SPAN CLASS="ee-text">
BOOLEAN</SPAN>
 and <SPAN CLASS="ee-text">
INTEGER</SPAN>
. In Eiffel, as you may remember, all types are defined by classes, even those describing such elementary values as integers and booleans.
</DIV>
<DIV>
<H2 CLASS="aa-sec3">
<A NAME="pgfId-491130"></A>Feature information in the Class View</H2>
<P CLASS="nn-first">
<A NAME="pgfId-510919"></A>Let's resist the natural urge to go see now what the classes <SPAN CLASS="ee-text">
INTEGER</SPAN>
 and <SPAN CLASS="ee-text">
BOOLEAN</SPAN>
 look like, and instead continue our survey of views. The remaining views will all display information about the <SPAN CLASS="ff-bold">
features</SPAN>
 of the class. The first of them, <SPAN CLASS="ee-keyword">
Attributes</SPAN>
, lists the attributes. It's not very interesting for <SPAN CLASS="ee-text">
LIST</SPAN>
, a deferred class with only one attribute -- you can check this for yourself by clicking the <SPAN CLASS="ee-keyword">
Attributes </SPAN>
button -- so let's look at the next one. Click the <SPAN CLASS="ee-keyword">
Routines </SPAN>
button now to display information about the routines of class <SPAN CLASS="ee-text">
LIST</SPAN>
:
<DIV>
<MAP NAME="index-36">
</MAP>
<p>
<ul>
<A TARGET="screenshots" HREF="index-36.png"><IMG WIDTH="100" SRC="index-36.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-495617"></A>The sections of this display group routines according to the ancestors of <SPAN CLASS="ee-text">
LIST</SPAN>
 -- including <SPAN CLASS="ee-text">
LIST</SPAN>
 itself -- that first introduced them; for example (second and third sections) <SPAN CLASS="ee-text">
extendible </SPAN>
originally comes from <SPAN CLASS="ee-text">
COLLECTION</SPAN>
 and <SPAN CLASS="ee-text">
extend</SPAN>
 from <SPAN CLASS="ee-text">
BAG</SPAN>
. Much of the benefit of this display comes from its support for browsing: all the colored elements, representing classes and features, will be &quot;clickable&quot; hyperlinks.
<P CLASS="nn-normal">
<A NAME="pgfId-495623"></A>The remaining Class View buttons all display information in the same format. Each selects a specific subset of the target class's features. The last two selected attributes and routines. You can now try any of the others by clicking the corresponding button:
<UL>
<LI CLASS="ll-bull">
<A NAME="pgfId-495641"></A><SPAN CLASS="ee-keyword">
Deferred</SPAN>
 features: abstract features which don't have an implementation in the current class, only in eventual descendants. Try this for <SPAN CLASS="ee-text">
LIST</SPAN>
; you'll see that this deferred class indeed has a number of deferred features.</LI>
<LI CLASS="ll-bull">
<A NAME="pgfId-495644"></A><SPAN CLASS="ee-keyword">
Once and constants</SPAN>
: constant attributes, &quot;once functions&quot; which provide shared objects (close to the &quot;singleton&quot; pattern), and once procedure which provide a convenient initialization mechanism. <SPAN CLASS="ee-text">
LIST</SPAN>
 hasn't any.</LI>
<LI CLASS="ll-bull">
<A NAME="pgfId-495648"></A><SPAN CLASS="ee-keyword">
External</SPAN>
 features, implemented as calls to routines, macros or other elements implemented in other languages. <SPAN CLASS="ee-text">
LIST</SPAN>
 hasn't any.</LI>
<LI CLASS="ll-bull">
<A NAME="pgfId-495649"></A><SPAN CLASS="ee-keyword">
Exported</SPAN>
 features: all the features available to general clients. <SPAN CLASS="ee-text">
LIST</SPAN>
 has quite a few.</LI>
</UL>
<P CLASS="nn-first">
<A NAME="pgfId-495664"></A>All the views you have now learned to produce were about <SPAN CLASS="ff-italics">
classes</SPAN>
. It's also very useful to obtain information about what happens to your <SPAN CLASS="ff-italics">
features</SPAN>
 throughout the classes where they appear. This will be the purpose of the <SPAN CLASS="ee-keyword">
Features</SPAN>
 tab of the Context Pane. But before we look at it let's see how to do more with the Class View facilities just seen, by exporting them to the outside world: to the Web, to a text processing tool, or in fact any other tool.
</DIV>
<p class="bottom" ALIGN="left"><IMG SRC="normaldoc.gif" ALT="Previous, Up, Next" BORDER="0" WIDTH="300" HEIGHT="40" USEMAP="#navigation"><map name="navigation"><AREA SHAPE="RECT" alt="Previous section" COORDS="0,0,95,40" HREF="index-07.html"><AREA SHAPE="RECT" alt="Up" COORDS="96,0,199,40" HREF="index.html"><AREA SHAPE="RECT" alt="Next section" COORDS="200,0,300,40" HREF="index-09.html"><area shape="default" nohref></MAP>

<p class="bottom" align="center"><a href="http://www.eiffel.com">Eiffel Home Page (Web)</a> -- <a href="../index.html">Getting started with Eiffel (local)</a>

<p class="copyright" align="center">Copyright Interactive Software Engineering, 2001
</BODY>
</HTML>
