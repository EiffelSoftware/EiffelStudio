<document title="Batch compilation" output="studio">
	<meta_data>
		<help>
			<meta>
				<content>Batch compilation</content>
				<name>MS-HKWD</name>
			</meta>
		</help>
	</meta_data>
	<paragraph>
		<heading>
			<size>1</size>Batch compilation
		</heading>
		<paragraph>In order to launch a compilation without user intervention you need to specify the `-batch' switch in the
			<bold>ec</bold> command line, otherwise the Eiffel compilation will be blocked. We will present below a typical example of batch processing on both Unix and Windows platforms where we want to compile a project in both frozen and finalized mode, then to launch the C compilations. At the same time we want to save the output of
			<bold>ec</bold> and the C compilations.
		</paragraph>
		<heading>
			<size>3</size>Unix
		</heading>In a file called `launch_ec' you can have the following:
		<paragraph>
			<code_block>
	#!/bin/sh
	#!/bin/sh

	output_file="/output_path/OUTPUT"

	cd /your_project_path

	#Launch Eiffel compilation
	ec -batch -ace Ace.ace -finalize -c_compile 2> $output_file

	#Since only C compilation for finalized code is done
	#Launch C compilation for frozen code

	cd EIFGEN/W_code
	finish_freezing > $output_file
			</code_block>
		</paragraph>
		<paragraph>It will go the directory where your project is located and compile your Eiffel code using the `Ace.ace' file located in your project directory and compile automatically the C code. All outputs will be stored in the file `/output_path/OUTPUT'.</paragraph>
		<paragraph>
			<bold>Note:</bold> All output from
			<bold>ec</bold> are going to the error output, so do not forget to redirect the error output when you want to see the result.
		</paragraph>
		<heading>
			<size>3</size>Windows
		</heading>In a file called `launched_ec.bat' you can have the following:
		<paragraph>
			<code_block>
	#Launch Eiffel compilation
	ec -batch -ace Ace.ace -finalize -c_compile > c:\output_path\OUTPUT

	#Since only C compilation for finalized code is done
	#Launch C compilation for frozen code
	cd EIFGEN\W_code
	finish_freezing > c:\output_path\OUTPUT
			</code_block>
		</paragraph>
		<paragraph>It will go the directory where your project is located and compile your Eiffel code using the `Ace.ace' file located in your project directory and compile automatically the C code. All outputs will be stored in the file `c:\output_path/OUTPUT'.</paragraph>
		<seealso>
			<bold>See Also</bold>
			<line_break></line_break>
			<link>
				<url>10_command_line_options.xml</url>
				<label>Command line compiler options</label>
			</link>
		</seealso>
	</paragraph>
</document>