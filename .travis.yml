language: eiffel
before_script:
- export current_dir=$PWD ; echo current_dir=$current_dir ; cd ..
- curl -sSL https://www.eiffel.org/setup/install.sh | bash -s nightly > eiffel.rc
- source ./eiffel.rc
- echo `ec -version`
- cd $current_dir
- export EIFFEL_SRC=$PWD/Src
- export EWEASEL=$PWD/eweasel
- export ISE_LIBRARY=$EIFFEL_SRC
- export XEBRA_LIBRARY=$EIFFEL_SRC/framework/web/xebra/eiffel_projects/library
- echo Check projects compilation status...
branches:
  only:
  - master
  - develop
git:
  depth: 1
env:
  - COMPILEALL_DIR=Src/Eiffel
  - COMPILEALL_DIR=Src/library/base
  - COMPILEALL_DIR=Src/library/base_extension
  - COMPILEALL_DIR=Src/library/docking
  - COMPILEALL_DIR=Src/library/editor
  - COMPILEALL_DIR=Src/library/encoding
  - COMPILEALL_DIR=Src/library/net
  - COMPILEALL_DIR=Src/library/preferences
  - COMPILEALL_DIR=Src/library/process
  - COMPILEALL_DIR=Src/library/store
  - COMPILEALL_DIR=Src/library/testing
  - COMPILEALL_DIR=Src/library/text
  - COMPILEALL_DIR=Src/library/thread
  - COMPILEALL_DIR=Src/library/time
  - COMPILEALL_DIR=Src/library/uuid
  - COMPILEALL_DIR=Src/library/vision2
  - COMPILEALL_DIR=Src/library/wel
  - COMPILEALL_DIR=Src/tools/compile_all
  - COMPILEALL_DIR=Src/tools/eiffel_make
  - COMPILEALL_DIR=Src/tools/espawn
  - COMPILEALL_DIR=Src/tools/estudio
  - COMPILEALL_DIR=Src/tools/finish_freezing
  - COMPILEALL_DIR=Src/tools/iron
  - COMPILEALL_DIR=Src/tools/syntax_updater
  - COMPILEALL_DIR=Src/library/ActiveX_control_container
  - COMPILEALL_DIR=Src/library/Eiffel2Java
  - COMPILEALL_DIR=Src/library/GIF
  - COMPILEALL_DIR=Src/library/api_wrapper
  - COMPILEALL_DIR=Src/library/argument_parser
  - COMPILEALL_DIR=Src/library/cURL
  - COMPILEALL_DIR=Src/library/cocoa
  - COMPILEALL_DIR=Src/library/com
  - COMPILEALL_DIR=Src/library/diff
  - COMPILEALL_DIR=Src/library/edk
  - COMPILEALL_DIR=Src/library/eldora
  - COMPILEALL_DIR=Src/library/encryption
  - COMPILEALL_DIR=Src/library/event
  - COMPILEALL_DIR=Src/library/gobo
  - COMPILEALL_DIR=Src/library/gobo_extension
  - COMPILEALL_DIR=Src/library/graph
  - COMPILEALL_DIR=Src/library/i18n
  - COMPILEALL_DIR=Src/library/iphone
  - COMPILEALL_DIR=Src/library/lex
  - COMPILEALL_DIR=Src/library/libevent
  - COMPILEALL_DIR=Src/library/memory_analyzer
  - COMPILEALL_DIR=Src/library/objc_base
  - COMPILEALL_DIR=Src/library/obsolete
  - COMPILEALL_DIR=Src/library/parse
  - COMPILEALL_DIR=Src/library/patterns
  - COMPILEALL_DIR=Src/library/png
  - COMPILEALL_DIR=Src/library/ribbon
  - COMPILEALL_DIR=Src/library/runtime
  - COMPILEALL_DIR=Src/library/testing_eweasel
  - COMPILEALL_DIR=Src/library/text_editor
  - COMPILEALL_DIR=Src/library/vision2_extension
  - COMPILEALL_DIR=Src/library/web
  - COMPILEALL_DIR=Src/library/web_browser
  - COMPILEALL_DIR=Src/library/wizard
  - COMPILEALL_DIR=Src/library/zeromq
  - COMPILEALL_DIR=Src/unstable/library/base2
  - COMPILEALL_DIR=Src/unstable/library/base_extension
  - COMPILEALL_DIR=Src/unstable/library/compression
  - COMPILEALL_DIR=Src/unstable/library/network
  - COMPILEALL_DIR=Src/unstable/library/pattern
  - COMPILEALL_DIR=Src/unstable/library/persistency
  - COMPILEALL_DIR=Src/unstable/library/scoop_patterns
  - COMPILEALL_DIR=Src/unstable/library/text
  - COMPILEALL_DIR=Src/unstable/library/web
  - COMPILEALL_DIR=Src/contrib/examples
  - COMPILEALL_DIR=Src/contrib/library/gobo COMPILEALL_IGNORE=Src/contrib/library/gobo/.compile_all.ini
  - COMPILEALL_DIR=Src/contrib/library/graphic
  - COMPILEALL_DIR=Src/contrib/library/math
  - COMPILEALL_DIR=Src/contrib/library/network
  - COMPILEALL_DIR=Src/contrib/library/print
  - COMPILEALL_DIR=Src/contrib/library/runtime
  - COMPILEALL_DIR=Src/contrib/library/security
  - COMPILEALL_DIR=Src/contrib/library/svn
  - COMPILEALL_DIR=Src/contrib/library/testing
  - COMPILEALL_DIR=Src/contrib/library/text
  - COMPILEALL_DIR=Src/contrib/library/utility
  - COMPILEALL_DIR=Src/contrib/library/web
  - COMPILEALL_DIR=Src/framework/api_marshaller
  - COMPILEALL_DIR=Src/framework/auto_test
  - COMPILEALL_DIR=Src/framework/base
  - COMPILEALL_DIR=Src/framework/base64
  - COMPILEALL_DIR=Src/framework/cli_debugger
  - COMPILEALL_DIR=Src/framework/cli_writer
  - COMPILEALL_DIR=Src/framework/code_analysis
  - COMPILEALL_DIR=Src/framework/com_light
  - COMPILEALL_DIR=Src/framework/command_tunnel
  - COMPILEALL_DIR=Src/framework/compiler_encoding
  - COMPILEALL_DIR=Src/framework/configuration
  - COMPILEALL_DIR=Src/framework/dotnet_loader
  - COMPILEALL_DIR=Src/framework/eiffel_identifier
  - COMPILEALL_DIR=Src/framework/eiffel_llvm
  - COMPILEALL_DIR=Src/framework/emitter_loader
  - COMPILEALL_DIR=Src/framework/environment
  - COMPILEALL_DIR=Src/framework/file_formats
  - COMPILEALL_DIR=Src/framework/file_utilities
  - COMPILEALL_DIR=Src/framework/gui_testing
  - COMPILEALL_DIR=Src/framework/interface_names
  - COMPILEALL_DIR=Src/framework/iron
  - COMPILEALL_DIR=Src/framework/mini_base
  - COMPILEALL_DIR=Src/framework/packages
  - COMPILEALL_DIR=Src/framework/parser
  - COMPILEALL_DIR=Src/framework/parser_extension
  - COMPILEALL_DIR=Src/framework/peg
  - COMPILEALL_DIR=Src/framework/resources
  - COMPILEALL_DIR=Src/framework/services
  - COMPILEALL_DIR=Src/framework/settable_types
  - COMPILEALL_DIR=Src/framework/string_expander
  - COMPILEALL_DIR=Src/framework/tagging
  - COMPILEALL_DIR=Src/framework/terminal
  - COMPILEALL_DIR=Src/framework/testing
  - COMPILEALL_DIR=Src/framework/threading
  - COMPILEALL_DIR=Src/framework/uri_launcher
  - COMPILEALL_DIR=Src/framework/utilities
  - COMPILEALL_DIR=Src/framework/vision2
  - COMPILEALL_DIR=Src/framework/web
  - COMPILEALL_DIR=Src/framework/xml
  - COMPILEALL_DIR=Src/framework/xml-rpc    
  - COMPILEALL_DIR=Src/tools/ace2ecf
  - COMPILEALL_DIR=Src/tools/button_clicker
  - COMPILEALL_DIR=Src/tools/bytecode_tool
  - COMPILEALL_DIR=Src/tools/class_structure_editor
  - COMPILEALL_DIR=Src/tools/code_checker
  - COMPILEALL_DIR=Src/tools/com_wizard
  - COMPILEALL_DIR=Src/tools/compliance_checker
  - COMPILEALL_DIR=Src/tools/converter
  - COMPILEALL_DIR=Src/tools/copyright_tool
  - COMPILEALL_DIR=Src/tools/doc_builder
  - COMPILEALL_DIR=Src/tools/dotnet_reference_builder
  - COMPILEALL_DIR=Src/tools/ecf_builder
  - COMPILEALL_DIR=Src/tools/ecf_redirection
  - COMPILEALL_DIR=Src/tools/ecf_tool
  - COMPILEALL_DIR=Src/tools/ecf_updater
  - COMPILEALL_DIR=Src/tools/eiffel_echo
  - COMPILEALL_DIR=Src/tools/eiffel_image_embedder
  - COMPILEALL_DIR=Src/tools/eiffel_matrix_code_generator
  - COMPILEALL_DIR=Src/tools/eiffel_ribbon
  - COMPILEALL_DIR=Src/tools/eiffel_routine_trans
  - COMPILEALL_DIR=Src/tools/eiffel_script
  - COMPILEALL_DIR=Src/tools/eweasel_comparator
  - COMPILEALL_DIR=Src/tools/eweasel_converter
  - COMPILEALL_DIR=Src/tools/hallow
  - COMPILEALL_DIR=Src/tools/legacy
  - COMPILEALL_DIR=Src/tools/library_index
  - COMPILEALL_DIR=Src/tools/library_visitor
  - COMPILEALL_DIR=Src/tools/metaconfig
  - COMPILEALL_DIR=Src/tools/objc2eif
  - COMPILEALL_DIR=Src/tools/parse_benchmark
  - COMPILEALL_DIR=Src/tools/pmsn
  - COMPILEALL_DIR=Src/tools/po_generation_tool
  - COMPILEALL_DIR=Src/tools/process_all
  - COMPILEALL_DIR=Src/tools/quick_finalize
  - COMPILEALL_DIR=Src/tools/reg2wix
  - COMPILEALL_DIR=Src/tools/repository_tool
  - COMPILEALL_DIR=Src/tools/resave_cfg
  - COMPILEALL_DIR=Src/tools/resource_bench
  - COMPILEALL_DIR=Src/tools/unicode
  - COMPILEALL_DIR=Src/tools/visitor_factory
  - COMPILEALL_DIR=Src/tools/vms
  - COMPILEALL_DIR=Src/tools/vsafeconv
matrix:
    fast_finish: true
script:
  - sh $EIFFEL_SRC/scripts/CI/travis-ci-compile_all.sh $COMPILEALL_DIR $COMPILEALL_IGNORE
group: stable
os: linux
notifications:
  slack:
    secure: mjmAWAHOgpFz9NN0JDDO9n20PZ/aiXJ6lIaVaK3wyuyMhOQm39Lr/KGGgEfhnEMzjZW44mskj8t2BxplZaCznL3Ogk/KGiBBnQbKY10GzZQBNfMqZDS49+WYicc1onIbT1r0bHDr2VZL/OZfKlhttkToDV43/pwuArggaS8DHTywVWa1v5A3NdIcyLYASYOEslCHyc/Xlx7aat3E8oodlHhqTZ1g9GwdVRdzV65BhCZGWXtR9duRn5AoTcxS108ER7mPJbmBsj2UaUahyOSbmjjEy1b0h+lcjUiOyGXXxQAQlYtIZ4+aCJ/OA5tFe+AYd915TmsikvSFsRvuP5Vh0W/tY0mST8YDYpljcEe3T8pYZgUN2nvmcPn/Sv52p4xfrrW1XBGno0f4sv2l4me3ApHHIA2ZMYAvSwteDjMOf3u9/BxsbOWPFQuEB6Qe1Q+h9wfj22T7FA89LIHG8UrciLJYbhyFaJeROfw/cj1ACPROPj/yC6gXrCpsIWQxgtefIstFySvohR1Hq3Ugz/+ziBD2X1jxE4eQV/n8L/SAcjzOUWe3Mpu4kkMPsJGbhnFmKaVU7BKYP2azwxOEnYfndPlT5jDkXFZ09EBbMkP4Ablvex0MwFYQYJdeYC+8kpAut2bpqvWaK2KnEwg93TmW2LepZ9HpTgb2IZShfH11fcg=
