<HTML>
<HEAD>
<TITLE>An Invitation to Eiffel: Genericity and inheritance</TITLE>
<LINK REV="made" HREF="mailto:webmaster@eiffel.com">
</HEAD>

<BODY BGCOLOR="#FFFFFF" >
<H5>
<A HREF="deferred.maker.html"><IMG ALIGN=RIGHT SRC="fm2html-next.gif" ALT="Next page" width="16" height="16"></A>
<A HREF="BOOK.maker.html"><IMG ALIGN=RIGHT SRC="fm2html-toc.gif" ALT="Table of
Contents" width="16" height="16"></A>
<A HREF="polymorphism.maker.html"><IMG ALIGN=RIGHT SRC="fm2html-previous.gif" ALT="Previous section" width="16" height="16"></A>
<A NAME="REF98317">
AN INVITATION TO EIFFEL</A>
</H5>
<HR>
<!-- This file was created with the fm2html filter.
The filter is copyright Norwegian Telecom Research and
was programmed by Jon Stephenson von Tetzchner. -->

<H3><A NAME="HDR0"> 10  COMBINING GENERICITY AND INHERITANCE </A></H3>
<P>Genericity and inheritance, the two fundamental mechanisms for generalizing classes, may be combined in two fruitful ways. 
<P>The first technique yields <B>polymorphic data structures</B>. Assume that in the generic class <I>LIST </I>[<I>G</I>] the insertion procedure put has a formal argument of type G, representing the element to be inserted. Then with a declaration such as
<UL><DL>
<DT><I>pl: LIST </I>[<I>POLYGON</I>] 
</DL></UL>
<P>the type rules imply that in a call <I>pl.put</I> ("...") the argument may be not just of type <I>POLYGON</I>, but also of type <I>RECTANGLE</I> (an heir of <I>POLYGON</I>) or any other type conforming to <I>POLYGON</I> through inheritance. 
<P>The conformance requirement used here is the inheritance-based type compatibility rule; in simple cases, <I>V</I> conforms to <I>T </I>if and only if <I>V</I> is a descendant of <I>T</I>.
<P>Structures such as <I>pl</I> may contain objects of different types, hence the name "polymorphic data structure". Such polymorphism is, again, made safe by the type rules: by choosing an actual generic parameter (<I>POLYGON</I> in the example) based higher or lower in the inheritance graph, you extend or restrict the permissible types of objects in <I>pl</I>. A fully general list would be declared as 
<UL><DL>
<DT><I>LIST </I>[<I>ANY</I>]<I> 
</DL></UL>
<P></I>where <I>ANY</I>, a Kernel Library class, is automatically an ancestor of any class that you may write. 
<P>The other mechanism for combining genericity and inheritance is <B>constrained genericity</B>. By indicating a class name after a formal generic parameter, as in
<UL><DL>
<DT><I>VECTOR </I>[<I>T -&gt; ADDABLE</I>]
</DL></UL>
<P>you express that only descendants of that class (here <I>ADDABLE</I>) may be used as the corresponding actual generic parameters. This makes it possible to use the corresponding operations. Here, for example, class <I>VECTOR</I> may define a routine <I><B>infix</B> "+"</I> for adding vectors, based on the corresponding routine from <I>ADDABLE</I> for adding vector elements. Then by making <I>VECTOR</I> itself inherit from <I>ADDABLE</I>, you ensure that it satisfies its own generic constraint and enable the definition of types such as <I>VECTOR </I>[<I>VECTOR </I>[<I>T</I>]]. 
<P>As you have perhaps guessed, unconstrained genericity, as in <I>LIST </I>[<I>G</I>], may be viewed as an abbreviation for genericity constrained by <I>ANY</I>, as in
<UL><DL>
<DT><I> <DD><DD>LIST </I><B></B>[<I>G -&gt; <I>ANY</I></I>].
</DL></UL>

<P>
<A HREF="polymorphism.maker.html"><IMG SRC="fm2html-previous.gif" width="16" height="16">Previous Chapter</A>
<A HREF="BOOK.maker.html"><IMG SRC="fm2html-toc.gif" width="16" height="16">Table of Contents</A>
<A HREF="deferred.maker.html"><IMG SRC="fm2html-next.gif" width="16" height="16">Next Chapter</A>
  
 
<!-- FOOTER -->
<BR>
<CENTER>
<IMG SRC="rainban.gif" WIDTH="100%" ALT="">
</CENTER>
<!-- END ICON BAR -->
<!-- COPYRIGHT -->
<CENTER><FONT SIZE=-1><STRONG>
- Copyright &copy; 1985-1996 ISE Inc. <A HREF="mailto:info@eiffel.com">
&lt;info@eiffel.com&gt;</A> -
</STRONG><BR>
Please send comments to <A HREF="mailto:webmaster@eiffel.com">
&lt;webmaster@eiffel.com&gt;</A>
<BR><FONT SIZE=-1>
Last update: December 1996 
</FONT></FONT></CENTER>
<!-- END COPYRIGHT -->
<!-- END FOOTER -->
</BODY>
</HTML>
