<?xml version="1.0"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
	<Fragment>
    <?ifdef EiffelStudio?>
		  <UI Id="UI.dialog_choose_precompile">
			  <RadioButtonGroup Property="PRECOMPILE">
				  <RadioButton Value="none" X="0" Y="0" Width="154" Height="14" Text="D&amp;o not precompile any libraries" />
				  <RadioButton Value="base" X="0" Y="14" Width="154" Height="14" Text="&amp;Base" />
				  <RadioButton Value="wel" X="0" Y="28" Width="154" Height="14" Text="Base and &amp;WEL" />
				  <RadioButton Value="vision2" X="0" Y="42" Width="154" Height="14" Text="Base, WEL and Eiffel&amp;Vision2" />
			  </RadioButtonGroup>
  			
			  <Dialog Id="DialogPrecompileChoice" Width="375" Height="220" Title="[ProductName]">
          <Control Id="Bitmap" Type="Bitmap" X="0" Y="0" Width="375" Height="220" FixedSize="yes" TabSkip="no" Text="backdrop_pre.bmp">
            <Condition Action="hide"><![CDATA[CANCCOMPILE = "0"]]></Condition>
            <Condition Action="show"><![CDATA[CANCCOMPILE = "1"]]></Condition>
          </Control>
          <Control Id="BitmapAlt" Type="Bitmap" X="0" Y="0" Width="375" Height="220" FixedSize="yes" TabSkip="no" Text="backdrop_prew.bmp">
            <Condition Action="hide"><![CDATA[CANCCOMPILE = "1"]]></Condition>
            <Condition Action="show"><![CDATA[CANCCOMPILE = "0"]]></Condition>
          </Control>
          <Control Id="Title" Type="Text" X="56" Y="13" Width="310" Height="22" Transparent="yes" NoPrefix="yes">
            <Text>[BigFont]Precompiled Libraries</Text>
          </Control>
          <Control Id="SubTitle" Type="Text" X="56" Y="35" Width="302" Height="13" Transparent="yes" NoPrefix="yes">
            <Text>[SubTitleFont]Please indicate which libraries should be precompiled</Text>
            <Condition Action="hide"><![CDATA[CANCCOMPILE = "0"]]></Condition>
            <Condition Action="show"><![CDATA[CANCCOMPILE = "1"]]></Condition>
          </Control>
          <Control Id="SubTitleAlt" Type="Text" X="56" Y="35" Width="309" Height="13" Transparent="yes" NoPrefix="yes">
            <Text>[SubTitleFont]Unable to find a C/C++ compiler</Text>
            <Condition Action="hide"><![CDATA[CANCCOMPILE = "1"]]></Condition>
            <Condition Action="show"><![CDATA[CANCCOMPILE = "0"]]></Condition>
          </Control>
          <Control Id="Description" Type="Text" X="11" Y="70" Width="354" Height="40" Transparent="yes" NoPrefix="yes">
            <Text>The [ProductName] installer can automatically precompile some libraries to accelerate the development of new projects. It is highly recommended to precompile at least Base. Otherwise most of the provided examples won't compile.</Text>
            <Condition Action="hide"><![CDATA[CANCCOMPILE = "0"]]></Condition>
            <Condition Action="show"><![CDATA[CANCCOMPILE = "1"]]></Condition>
          </Control>
          <Control Id="DescriptionAlt" Type="Text" X="11" Y="70" Width="354" Height="40" Transparent="yes" NoPrefix="yes">
            <Text>The [ProductName] installer cannot automatically precompile some libraries because a C/C++ cannot be found on your system. You may configure your C/C++ compiler after installation and the precompile libraries will be built automatically on first use compilation.</Text>
            <Condition Action="hide"><![CDATA[CANCCOMPILE = "1"]]></Condition>
            <Condition Action="show"><![CDATA[CANCCOMPILE = "0"]]></Condition>
          </Control>
          <Control Id="Choice" Type="RadioButtonGroup" X="46" Y="112" Width="154" Height="58" Property="PRECOMPILE" TabSkip="no" Disabled="yes">
            <Condition Action="disable"><![CDATA[CANCCOMPILE = "0"]]></Condition>
            <Condition Action="enable"><![CDATA[CANCCOMPILE = "1"]]></Condition>
          </Control>

          <Control Id="Back" Type="PushButton" X="187" Y="193" Width="56" Height="17" Text="[Button_Back]">
            <Publish Event="NewDialog" Value="DialogCCompilerChoice"><![CDATA[CHECKCCOMPILER <> "1"]]></Publish>
            <Publish Event="NewDialog" Value="DialogSelectFolder"><![CDATA[CHECKCCOMPILER = "1"]]></Publish>
          </Control>
          <Control Id="Next" Type="PushButton" X="242" Y="193" Width="56" Height="17" Default="yes" Text="[Button_Next]">
            <Publish Event="NewDialog" Value="DialogSelectProjectFolder">1</Publish>
          </Control>
          <Control Id="Cancel" Type="PushButton" X="309" Y="193" Width="56" Height="17" Cancel="yes" Text="[Button_Cancel]">
            <Publish Event="SpawnDialog" Value="PromptCancelInstall">1</Publish>
          </Control>
			  </Dialog>
		  </UI>
    <?endif?>
	</Fragment>
</Wix>
