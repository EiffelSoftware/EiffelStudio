<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="tour.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE> 15  GRAPHICS-BASED DESIGN</TITLE>
</HEAD>
<!--------------------------------------------------->
<SCRIPT LANGUAGE="Javascript">
	// Default values
	var oNewWindow = 0;

	function ImageClick( oImage )
	{
		if( oNewWindow == 0 || oNewWindow.closed )
		{
			oNewWindow = window.open (oImage.src,"", "status=no, toolbar=no, menubar=no, location=no, resizable=yes");
		}
		else
		{
			oNewWindow.location = oImage.src;
		}
	}
</SCRIPT>
<!--------------------------------------------------->
<body bgcolor="#faf0e6">
<DIV>
<p class="top" align="center"><a href="http://www.eiffel.com">Eiffel Home Page (Web)</a> -- <a href="../index.html">Getting started with Eiffel (local)</a>

<img src="power.gif" ALT="Eiffel Home Page" align="right" border="0"  usemap="#eiffel"><map name="eiffel"><area shape="RECT" alt="Eiffel Home Page" coords="0,0,109,226" HREF="http://www.eiffel.com"><area shape="default" nohref></map>

<p class="top" ALIGN="left"><IMG SRC="normaldoc.gif" ALT="Previous, Up, Next" BORDER="0" WIDTH="300" HEIGHT="40" USEMAP="#navigation"><map name="navigation"><AREA SHAPE="RECT" alt="Previous section" COORDS="0,0,95,40" HREF="index-15.html"><AREA SHAPE="RECT" alt="Up" COORDS="96,0,199,40" HREF="index.html"><AREA SHAPE="RECT" alt="Next section" COORDS="200,0,300,40" HREF="index-17.html"><area shape="default" nohref></MAP>
</DIV>
<H1 CLASS="aa-sec2">
<A NAME="pgfId-527344"></A>15  GRAPHICS-BASED DESIGN</H1>
<P CLASS="nn-first">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="tour-help.html">Help reading this manual</a>
<P CLASS="nn-first">
<A NAME="pgfId-527345"></A>So far the project modifications that we have made used the text editor in the Editing pane. We used graphics, but as a way to reflect system structures, not to build them (<A HREF="index-07.html#46460" CLASS="XRef"><SPAN CLASS="ww-crossref">
&quot;A peek at diagrams&quot;,  page 21</SPAN>
</A>, and subsequent discussions).
<P CLASS="nn-normal">
<A NAME="pgfId-527354"></A>In line with the principles of seamlessness and reversibility recalled at the beginning of this Tour, EiffelStudio's text-diagram interaction is completely both ways. When you make a textual modification, the diagram will be updated after the next incremental recompilation; but you can also work directly from the diagram, and the text will be generated or updated after each graphical operations.
<P CLASS="nn-normal">
<A NAME="pgfId-527355"></A>Many people like to use the graphical mechanisms at the beginning of a project, to draft the overall structure of a system in &quot;bubbles-and-arrows&quot; style, then concentrate on text as they get closer to implementation. But there is really no such obligation. At any point in the development, just use the form that is more suited to your taste and to your needs of the moment.
<DIV>
<H2 CLASS="aa-sec3">
<A NAME="pgfId-527356"></A>Displaying a cluster view</H2>
<P CLASS="nn-first">
<A NAME="pgfId-527357"></A>We are going to play with the root cluster. Make sure the Cluster tree and the Context pane are up. Also make sure that the Context tool is in Isolate rather than Merge behavior (<A HREF="index-11.html#89659" CLASS="XRef"><SPAN CLASS="ww-crossref">
&quot;Isolating the context&quot;,  page 68</SPAN>
</A>); you can see this by going to the <SPAN CLASS="ee-keyword">
Edit menu</SPAN>
: if there is an entry <SPAN CLASS="ee-keyword">
Isolate context tool</SPAN>
, select it; otherwise (the corresponding entry reads &quot;Merge context tool) don't do anything, you're fine. (You can also use the Merge/Isolate button added earlier to the Browsing toolbar for this very purpose.)
<P CLASS="nn-normal">
<A NAME="pgfId-527381"></A>The earlier diagrams were &quot;class views&quot;, giving a picture of the world around a class. For a change, we are going to work for the moment with <SPAN CLASS="ff-bold">
cluster views</SPAN>
, showing the content of a cluster. Select the Diagram tab in the Context pane; from the Cluster Tree, pick-and-drop <SPAN CLASS="ee-text">
root_cluster</SPAN>
 to the Context pane. This displays the graphical view of the root cluster in the Context pane:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-113.png"><IMG WIDTH="100" SRC="index-113.png"></A>
</ul>
<p>
</DIV>
</DIV>
<DIV>
<H2 CLASS="aa-sec3">
<A NAME="pgfId-527388"></A>Hiding a class</H2>
<P CLASS="nn-first">
<A NAME="pgfId-527422"></A>First we decide that we don't want to be bothered with class <SPAN CLASS="ee-text">
INVALID</SPAN>
. We could delete it altogether from the system by pick-and-drop its bubble to the Delete hole. This is not what we want, but try this now to see the confirmation request:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-114.png"><IMG WIDTH="100" SRC="index-114.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527402"></A>Make sure to answer <SPAN CLASS="ee-keyword">
No</SPAN>
 to that confirmation request (you want to keep the class even though it wouldn't be a catastrophe to lose it) and instead pick-and-drop the <SPAN CLASS="ee-text">
INVALID</SPAN>
 bubble into the <SPAN CLASS="ee-keyword">
Hide</SPAN>
 hole. This time there is no confirmation request, since the operation is reversible -- it just affects what's displayed in the cluster view -- and the class is removed from the display:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-115.png"><IMG WIDTH="100" SRC="index-115.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527407"></A>You can try undoing this change, then redoing it:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-116.png"><IMG WIDTH="100" SRC="index-116.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527416"></A>You can also click <SPAN CLASS="ee-keyword">
History</SPAN>
 which, during the rest of the session, will display the list of executed operations, and let you undo or redo many operations at once by clicking the oldest to be kept or the youngest to be redone.
<P CLASS="nn-normal">
<A NAME="pgfId-527421"></A>For the rest of this discussion we assume <SPAN CLASS="ee-text">
INVALID</SPAN>
 is hidden.
</DIV>
<DIV>
<H2 CLASS="aa-sec3">
<A NAME="pgfId-527423"></A>Adding a class</H2>
<P CLASS="nn-first">
<A NAME="pgfId-527439"></A>We are now going to add a class graphically to our system. This means you don't have to worry about creating and initializing a file; EiffelStudio will take care of the details.
<P CLASS="nn-normal">
<A NAME="pgfId-527440"></A>The useful button here is <SPAN CLASS="ee-keyword">
New class</SPAN>
:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-117.png"><IMG WIDTH="100" SRC="index-117.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527450"></A>This button is a pebble, meant to be dropped into the diagram. Drop it somewhere above the bubble for <SPAN CLASS="ee-text">
TESTROOT</SPAN>
; the exact place doesn't matter, but it has to be within the aread of the cluster <SPAN CLASS="ee-text">
root_cluster </SPAN>
because we'll want our class to part of it. You're asked to name the class:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-118.png"><IMG WIDTH="100" SRC="index-118.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527459"></A>Overwrite the default name being proposed, <SPAN CLASS="ee-text">
NEW_CLASS</SPAN>
, by the name <SPAN CLASS="ee-text">
HEIR2</SPAN>
, as we are going to create a new heir of <SPAN CLASS="ee-text">
PARENT</SPAN>
. Don't touch the file name in the second field; as you type the class name EiffelStudio automatically sets the file name to <SPAN CLASS="ee-text">
heir2</SPAN>
<SPAN CLASS="ee-dot">
.</SPAN>
<SPAN CLASS="ee-text">
e</SPAN>
, so you would only set it if you wanted to override the default convention for names of class files.
<P CLASS="nn-normal">
<A NAME="pgfId-527467"></A>The new class is now in the diagram, part of <SPAN CLASS="ee-text">
root_cluster</SPAN>
:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-119.png"><IMG WIDTH="100" SRC="index-119.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527486"></A>Using conventional drag-and-drop (not pick-and-drop), move the class bubbles for <SPAN CLASS="ee-text">
HEIR2</SPAN>
, <SPAN CLASS="ee-text">
TESTROOT</SPAN>
 and <SPAN CLASS="ee-text">
PARENT</SPAN>
 so that the display looks approximately like the following. Note that the double circle around <SPAN CLASS="ee-text">
TESTROOT</SPAN>
 is the BON convention to identify a system's root class.
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-120.png"><IMG WIDTH="100" SRC="index-120.png"></A>
</ul>
<p>
</DIV>
</DIV>
<DIV>
<H2 CLASS="aa-sec3">
<A NAME="pgfId-527501"></A>Adding an inheritance link</H2>
<P CLASS="nn-first">
<A NAME="pgfId-527593"></A>Now we are going to make <SPAN CLASS="ee-text">
HEIR2 </SPAN>
an heir of <SPAN CLASS="ee-text">
PARENT</SPAN>
. To create inter-class relations, you will select a relation by clicking one of the &quot;Create link&quot; buttons, then use pick-and-drop from the source class to the target class. There are three possibilities:
<DIV>
<MAP NAME="index-121">
</MAP>
<p>
<ul>
<A TARGET="screenshots" HREF="index-121.png"><IMG WIDTH="100" SRC="index-121.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527507"></A>Click the button marked <SPAN CLASS="ee-keyword">
heir</SPAN>
 above. Now pick-and-drop from the <SPAN CLASS="ee-text">
HEIR2</SPAN>
 bubble to the <SPAN CLASS="ee-text">
PARENT</SPAN>
 bubble. (Now you see why conventional drag-and-drop is used to move bubbles: pick-and-drop on the diagram serves to add links between classes).
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-122.png"><IMG WIDTH="100" SRC="index-122.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527514"></A>To convince yourself that the new class has been made like an heir of <SPAN CLASS="ee-text">
PARENT</SPAN>
, in its text and not just in the diagram, pick-and-drop <SPAN CLASS="ee-text">
HEIR2 </SPAN>
bubble to the Editing pane at the top to see its text. (You could also control-right-click to the bubble to bring up a new Development Tool on this class.) You see the result of the initial creation operation, which produced a class template with all the standard style and clauses, and the latest parenting operation, which made <SPAN CLASS="ee-text">
HEIR2 </SPAN>
inherit from <SPAN CLASS="ee-text">
PARENT</SPAN>
:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-123.png"><IMG WIDTH="100" SRC="index-123.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527531"></A>In a moment we'll use this Editing pane to see how, conversely, EiffelStudio will automatically reflect in the diagram a change made to the text. For the moment go back to first the Development Tool.
<P CLASS="nn-normal">
<A NAME="pgfId-527534"></A>In the Cluster Tree in the top-left pane, you will notice that the name of <SPAN CLASS="ee-text">
HEIR2</SPAN>
, a appears grayed out; so does the name of <SPAN CLASS="ee-text">
INVALID</SPAN>
:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-124.png"><IMG WIDTH="100" SRC="index-124.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527580"></A>This is EiffelStudio's way of telling us that the two classes are not part of the system, because although they belong to one of its clusters they are not referenced, directly or indiirectly, from the root.
</DIV>
<DIV>
<H2 CLASS="aa-sec3">
<A NAME="pgfId-527599"></A>Adding a client link</H2>
<P CLASS="nn-first">
<A NAME="pgfId-527598"></A>Let's indeed make <SPAN CLASS="ee-text">
TESTROOT</SPAN>
 a client of <SPAN CLASS="ee-text">
HEIR2</SPAN>
. Click the button that selects <SPAN CLASS="ee-keyword">
Client</SPAN>
 as the next relation to make links (the link creation buttons were shown on page <A HREF="index.html#LINK CREATION" CLASS="XRef"><SPAN CLASS="ww-crossref">
117</SPAN>
</A>). Pick-and-drop from the <SPAN CLASS="ee-text">
TESTROOT</SPAN>
 bubble to the <SPAN CLASS="ee-text">
HEIR2</SPAN>
 bubble. This asks you what kind of client link you want:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-125.png"><IMG WIDTH="100" SRC="index-125.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527592"></A>This gives you many option and in fact is a convenient way to build your classes, whether at the analysis, design or implementation level. Here, fill the fields as follows. For the top choice, keep the default, <SPAN CLASS="ee-keyword">
Attribute</SPAN>
; we'll give class <SPAN CLASS="ee-text">
TESTROOT</SPAN>
 an attribute of type <SPAN CLASS="ee-text">
HEIR2</SPAN>
. In the <SPAN CLASS="ee-keyword">
feature</SPAN>
 clause, which will indicate its export status, replace the default choice <SPAN CLASS="ee-text">
NONE</SPAN>
 by <SPAN CLASS="ee-text">
ANY</SPAN>
, so that the attribute will be public. For its feature category, keep the choice currently displayed, <SPAN CLASS="ee-text">
Access</SPAN>
. For its name, replace the default, <SPAN CLASS="ee-text">
new_feature</SPAN>
, by <SPAN CLASS="ee-text">
my_heir</SPAN>
. In the <SPAN CLASS="ee-keyword">
invariant</SPAN>
 clause, enter
<p><ul><table bgcolor="#cfffcf" width="79%" BORDER="1">
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="ee-text">
<A NAME="pgfId-527602"></A>my_heir /= Void
</TD>
</TR>
</table></ul><p>
<P CLASS="nn-first">
<A NAME="pgfId-527603"></A>to specify the invariant property that this attribute should never be void. Finally, to see how EiffelStudio can generate the full accompaniment to an attribute, check the box <SPAN CLASS="ee-keyword">
Generate set procedure</SPAN>
. Click <SPAN CLASS="ee-keyword">
OK</SPAN>
.
<P CLASS="nn-normal">
<A NAME="pgfId-527604"></A>The diagram -- shown below after a slight move of the bubble for <SPAN CLASS="ee-text">
TESTROOT </SPAN>
for more readability -- shows that <SPAN CLASS="ee-text">
TESTROOT </SPAN>
is now a client of <SPAN CLASS="ee-text">
HEIR2</SPAN>
. By default it only showed inheritance links; now it has switched automatically to a mode that shows client links as well, so that we also see that <SPAN CLASS="ee-text">
TESTROOT </SPAN>
is (and always was) a client of <SPAN CLASS="ee-text">
PARENT</SPAN>
 through attributes including <SPAN CLASS="ee-text">
o2</SPAN>
.
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-126.png"><IMG WIDTH="100" SRC="index-126.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527617"></A>Now pick-and-drop the class bubble <SPAN CLASS="ee-text">
TESTROOT</SPAN>
 to the top Editing pane to see how the class has been modified. The situation here is different from what we saw earlier with <SPAN CLASS="ee-text">
HEIR2</SPAN>
, which had been generated from scratch by the diagram. Here <SPAN CLASS="ee-text">
TESTROOT</SPAN>
 existed before, in text form; so the diagram mechanisms have had to preserve the existing feature and feature clauses, and add the elements corresponding to what you have specified through the diagram mechanisms. Here is the beginning of class <SPAN CLASS="ee-text">
TESTROOT </SPAN>
in its updated form:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-127.png"><IMG WIDTH="100" SRC="index-127.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527628"></A>Note how EiffelStudio has generated both the attribute and the associated &quot;set&quot; procedure, <SPAN CLASS="ee-text">
set_my_heir</SPAN>
, complete with a precondition -- deduced from the invariant you have specified, <SPAN CLASS="ee-text">
my_heir /= Void</SPAN>
 -- and a postcondition. The unlabeled Feature clause of the existing class has been kept; the new features have been entered into clauses labeled <SPAN CLASS="ee-text">
Access</SPAN>
 and <SPAN CLASS="ee-text">
Element change</SPAN>
, observing the Eiffel standard for common feature clauses in libraries.
<P CLASS="nn-normal">
<A NAME="pgfId-527629"></A>If you look at the end of the class, you will see an <SPAN CLASS="ee-keyword">
invariant</SPAN>
 clause listing the invariant that you have entered.
</DIV>
<DIV>
<H2 CLASS="aa-sec3">
<A NAME="pgfId-527630"></A>Updating the diagram from the text</H2>
<P CLASS="nn-first">
<A NAME="pgfId-527635"></A>In this tour of the diagram facilities we have, so far, worked on the diagram and see the text updated immediately. Of course we want full reversibility. So let's make a change in the text and check the diagram.
<P CLASS="nn-normal">
<A NAME="pgfId-527636"></A>The change will be very simple. We'll make <SPAN CLASS="ee-text">
TESTROOT</SPAN>
 a client of <SPAN CLASS="ee-text">
HEIR</SPAN>
. In the top Editing pane, use the editor to add an attribute declaration
<p><ul><table bgcolor="#cfffcf" width="79%" BORDER="1">
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="ee-text">
<A NAME="pgfId-527639"></A>other: HEIR
</TD>
</TR>
</table></ul><p>
<P CLASS="nn-first">
<A NAME="pgfId-527643"></A>without further ado, as this is just a simple check.
<P CLASS="jj-small">
<A NAME="pgfId-527644"></A>If you are concerned about the correctness of the class, you may with to update its creation procedure <SPAN CLASS="ee-text">
make</SPAN>
 to add a creation instruction <SPAN CLASS="ee-keyword">
create </SPAN>
<SPAN CLASS="ee-text">
my_heir</SPAN>
. Without it the just added invariant would be violated upon creation.
<P CLASS="nn-first">
<A NAME="pgfId-527647"></A>Nothing happens yet to the diagram. This is normal: EiffelStudio doesn't update the diagram every time you type some text (which, for one thing, might be syntactically incorrect or invalid). You need to recompile first. Click the <SPAN CLASS="ee-keyword">
Compile</SPAN>
 button. Then on the Context pane click <SPAN CLASS="ee-keyword">
Diagram</SPAN>
; the new relation appears:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-128.png"><IMG WIDTH="100" SRC="index-128.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527652"></A>If the label <SPAN CLASS="ee-text">
other</SPAN>
 of that relation doesn't appear in the exact place shown here, try moving it using conventional drag-and-drop. You can only move such a link label within a small area on either side of the link.
</DIV>
<DIV>
<H2 CLASS="aa-sec3">
<A NAME="pgfId-527658"></A>Creating a cluster</H2>
<P CLASS="nn-first">
<A NAME="pgfId-527663"></A>Earlier on, we saw how to create a class from the EiffelStudio diagram, letting EiffelStudio take care of creating and initializing the file. Similarly, you can create a new cluster graphically, and let EiffelStudio create the corresponding directory.
<P CLASS="nn-normal">
<A NAME="pgfId-527664"></A>To create a cluster, you can go through <SPAN CLASS="ee-keyword">
Project </SPAN>
<SPAN CLASS="ee-symbol">
--> </SPAN>
<SPAN CLASS="ee-keyword">
Project settings</SPAN>
, or you can click the little Cluster Creation button at the top of the Cluster Tree:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-129.png"><IMG WIDTH="100" SRC="index-129.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527674"></A>Click this button. The resulting dialog asks you for the cluster name, and the existing cluster (non-precompiled) of which you want to make it a subcluster, here leaving only one choice:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-130.png"><IMG WIDTH="100" SRC="index-130.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527687"></A>Instead of the <SPAN CLASS="ee-text">
NEW_CLUSTER</SPAN>
 default name, type <SPAN CLASS="ee-text">
my_cluster</SPAN>
; select the only possible supercluster, <SPAN CLASS="ee-text">
root_cluster</SPAN>
, and click <SPAN CLASS="ee-keyword">
Create</SPAN>
 at the bottom of the dialog.
<P CLASS="jj-small">
<A NAME="pgfId-527688"></A>As you will have noted, this technique only allows you to create a new cluster as a subcluster of an existing one. You can create a top-level cluster by going through <SPAN CLASS="ee-keyword">
Project </SPAN>
<SPAN CLASS="ee-symbol">
--> </SPAN>
<SPAN CLASS="ee-keyword">
Project settings</SPAN>

<P CLASS="nn-first">
<A NAME="pgfId-527701"></A>Recompile the project and bring up the cluster diagram again. It shows the subcluster:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-131.png"><IMG WIDTH="100" SRC="index-131.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527709"></A>Make sure that the display looks approximately like the above; you may have to resize either or both clusters (drag a corner), and move the small cluster (drag-and-drop).
</DIV>
<DIV>
<H2 CLASS="aa-sec3">
<A NAME="pgfId-527710"></A>Moving a class to a different cluster</H2>
<P CLASS="nn-first">
<A NAME="pgfId-527711"></A>Among the many operations you can do graphically is to move a class from one cluster to another. Drag-and-drop (again, using conventional drag and drop) the <SPAN CLASS="ee-text">
HEIR2 </SPAN>
class bubble to the rounded rectangle for <SPAN CLASS="ee-text">
MY_CLUSTER</SPAN>
. Make sure the bubble fits entirely (that's why we wanted the cluster rectangle to be big enough).
<P CLASS="nn-normal">
<A NAME="pgfId-527715"></A>This graphical manipulation has caused a structural change: class <SPAN CLASS="ee-text">
HEIR2</SPAN>
 is now part of <SPAN CLASS="ee-text">
MY_CLUSTER</SPAN>
. Check this by expanding the Cluster Tree on the left:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-132.png"><IMG WIDTH="100" SRC="index-132.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-normal">
<A NAME="pgfId-527727"></A>If you like, you can also look into the project directory -- using the Windows Explorer, or <SPAN CLASS="ee-keyword">
cd</SPAN>
 and <SPAN CLASS="ee-keyword">
ls</SPAN>
 on Unix/Linux -- and check that it now has a subdirectory <SPAN CLASS="ee-text">
my_cluster</SPAN>
 with a file <SPAN CLASS="ee-text">
heir2</SPAN>
<SPAN CLASS="ee-dot">
.</SPAN>
<SPAN CLASS="ee-keyword">
e</SPAN>
 containing the text of class <SPAN CLASS="ee-text">
HEIR2</SPAN>
.
<P CLASS="nn-normal">
<A NAME="pgfId-527728"></A>Clearly, it's much more convenient to use EiffelStudio for such manipulations than to move files around manually. 
</DIV>
<DIV>
<H2 CLASS="aa-sec3">
<A NAME="pgfId-527729"></A>Changing a class name</H2>
<P CLASS="nn-first">
<A NAME="pgfId-527730"></A>Here is another operation that would be even more tedious if you had to perform it manually: changing a class name. You must make sure that <SPAN CLASS="ff-italics">
every</SPAN>
 reference to the class in the system is updated; but that's difficult to do with a text editor since -- assuming we are changing the name of <SPAN CLASS="ee-text">
HEIR</SPAN>
 to <SPAN CLASS="ee-text">
HEIR1</SPAN>
 -- you must check references one by one to avoid, for example, changing an occurrence of the word in a string.
<P CLASS="nn-normal">
<A NAME="pgfId-527735"></A>Instead, find the icon whose tooltip reads &quot;Change class name and generics&quot;:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-133.png"><IMG WIDTH="100" SRC="index-133.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527742"></A>This is not a button but a hole (as you'll be reminded if you try just clicking it). Pick-and-drop <SPAN CLASS="ee-text">
HEIR</SPAN>
 to it:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-134.png"><IMG WIDTH="100" SRC="index-134.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527747"></A>As you can see, this dialog also serves to change the name of formal generic parameters when the selected class is generic. Type <SPAN CLASS="ee-text">
HEIR1</SPAN>
 (or <SPAN CLASS="ee-text">
heir1</SPAN>
, EiffelStudio always converts class names to upper case) under <SPAN CLASS="ee-keyword">
New name</SPAN>
 and click <SPAN CLASS="ee-keyword">
OK</SPAN>
.
<P CLASS="nn-normal">
<A NAME="pgfId-527754"></A>As EiffelStudio traverses the system to update all references to <SPAN CLASS="ee-text">
HEIR</SPAN>
, a progress bar appears so that you know what's going on. Everything is updated, including the current cluster diagram, which displays the new name in the class bubble:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-135.png"><IMG WIDTH="100" SRC="index-135.png"></A>
</ul>
<p>
</DIV>
</DIV>
<DIV>
<H2 CLASS="aa-sec3">
<A NAME="pgfId-527793"></A>Adjusting the display</H2>
<P CLASS="nn-first">
<A NAME="pgfId-527798"></A>A number of buttons enable you to customize the display:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-136.png"><IMG WIDTH="100" SRC="index-136.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527797"></A>So far all class bubbles had the same default color (yellow). Try pick-and-dropping a bubble into the <SPAN CLASS="ee-keyword">
Color hole</SPAN>
 to get a color palette that enables you to select a different color. This is useful if you want to highlight classes possessing certain properties, for example classes that are part of a certain Design Pattern.
<P CLASS="nn-normal">
<A NAME="pgfId-527807"></A><SPAN CLASS="ee-keyword">
Relation depth</SPAN>
 enables you to select the depth at which inter-class relations will be displayed. (Don't change this setting now.) <SPAN CLASS="ee-keyword">
Extend to cluster</SPAN>
 is more useful for class diagrams than the cluster diagram we have now, which by default included all classes of the cluster; if you click it now it will add the class <SPAN CLASS="ee-text">
INVALID</SPAN>
 that you removed earlier. There is no need to do this now.<SPAN CLASS="ee-text">
</SPAN>

</DIV>
<DIV>
<H2 CLASS="aa-sec3">
<A NAME="pgfId-527806"></A>Views</H2>
<P CLASS="nn-first">
<A NAME="pgfId-527764"></A>So far the top-right <SPAN CLASS="ee-keyword">
View </SPAN>
field has always shown <SPAN CLASS="ee-keyword">
DEFAULT</SPAN>
. You can define any number of views in your project, and apply them to various class and cluster diagrams.
<P CLASS="nn-normal">
<A NAME="pgfId-527765"></A>For example, using the buttons to show and hide links of various kinds
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-137.png"><IMG WIDTH="100" SRC="index-137.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527789"></A>you can produce diagrams that only show the inheritance links, and others that only show the client links. If you want to keep both, simply define views by typing view names -- such as <SPAN CLASS="ee-text">
Inheritance</SPAN>
, <SPAN CLASS="ee-text">
Client</SPAN>
, <SPAN CLASS="ee-text">
All_links</SPAN>
 -- into the <SPAN CLASS="ee-keyword">
View </SPAN>
field.
<P CLASS="nn-normal">
<A NAME="pgfId-527808"></A>You can also use views to retain some of the choices seen just before, such as different colors and depths.
<P CLASS="nn-normal">
<A NAME="pgfId-527816"></A>To load a previously defined view, just use the menu associated with the <SPAN CLASS="ee-keyword">
View</SPAN>
 field.
<P CLASS="nn-normal">
<A NAME="pgfId-527792"></A>You may remember that when we generated HTML documentation, the dialog (page <A HREF="index.html#DOCUMENTATION VIEW" CLASS="XRef"><SPAN CLASS="ww-crossref">
46</SPAN>
</A>) asked you to select a view among the available ones. You can choose a different view for each cluster.
</DIV>
<DIV>
<H2 CLASS="aa-sec3">
<A NAME="pgfId-527821"></A>Class diagrams, cluster diagrams</H2>
<P CLASS="nn-first">
<A NAME="pgfId-527822"></A>Whereas our initial encounter with diagrams at the beginning of this Tour used class diagrams, in the present discussion we have used cluster diagrams. Both are interesting. To obtain a class diagram, target a Context pane to a class, and select the <SPAN CLASS="ee-keyword">
Diagram</SPAN>
 tab. By default, this shows the parents of the class. Do this for <SPAN CLASS="ee-text">
TESTROOT</SPAN>
:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-138.png"><IMG WIDTH="100" SRC="index-138.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527837"></A>It's for class diagrams that the <SPAN CLASS="ee-keyword">
Relation depth </SPAN>
button is most interesting. It will let you select the exact depth that you wish displayed for every relation:
<DIV>
<p>
<ul>
<A TARGET="screenshots" HREF="index-139.png"><IMG WIDTH="100" SRC="index-139.png"></A>
</ul>
<p>
</DIV>
<P CLASS="nn-first">
<A NAME="pgfId-527850"></A>This will conclude our review of the Diagram facilities of EiffelStudio, although you'll surely discover some further riches by yourself and through the contextual documentation. We hope the complete seamlessness between text and pictures will enable you to increase the effectiveness of your analysis work, or your design work, or your programming -- whatever level of system development you need to tackle.
</DIV>
<p class="bottom" ALIGN="left"><IMG SRC="normaldoc.gif" ALT="Previous, Up, Next" BORDER="0" WIDTH="300" HEIGHT="40" USEMAP="#navigation"><map name="navigation"><AREA SHAPE="RECT" alt="Previous section" COORDS="0,0,95,40" HREF="index-15.html"><AREA SHAPE="RECT" alt="Up" COORDS="96,0,199,40" HREF="index.html"><AREA SHAPE="RECT" alt="Next section" COORDS="200,0,300,40" HREF="index-17.html"><area shape="default" nohref></MAP>

<p class="bottom" align="center"><a href="http://www.eiffel.com">Eiffel Home Page (Web)</a> -- <a href="../index.html">Getting started with Eiffel (local)</a>

<p class="copyright" align="center">Copyright Interactive Software Engineering, 2001
</BODY>
</HTML>
