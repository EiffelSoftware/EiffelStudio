<document title="Interface for preferences">
	<meta_data/>
	<paragraph>
		<paragraph>This document describes the use of graphical widgets to display and manipulate preferences.</paragraph>
		<paragraph>The preference library contains a cluster called 
			<cluster_name>interface</cluster_name>.  This cluster provides some basic classes which can be used to graphically display and manipulate the <class_name>PREFERENCE</class_name> types used by the library.  There are various widget classes which correspond to particular types of preferences and can be used to view and change the values of an associated preference.  The table below illustrates which widgets are used to display each of the known preference types:
		</paragraph>
		<paragraph>
			<table>
				<row>
					<cell>
						<bold>Preference Type</bold>
					</cell>
					<cell>
						<bold>Associated Widget</bold>
					</cell>
				</row>
				<row>
					<cell><class_name>INTEGER_PREFERENCE</class_name></cell>
					<cell><class_name>STRING_PREFERENCE_WIDGET</class_name></cell>
				</row>
				<row>
					<cell><class_name>BOOLEAN_PREFERENCE</class_name></cell>
					<cell><class_name>BOOLEAN_PREFERENCE_WIDGET</class_name></cell>
				</row>
				<row>
					<cell><class_name>STRING_PREFERENCE</class_name></cell>
					<cell><class_name>STRING_PREFERENCE_WIDGET</class_name></cell>
				</row>
				<row>
					<cell><class_name>ARRAY_PREFERENCE</class_name></cell>
					<cell><class_name>STRING_PREFERENCE_WIDGET</class_name> or <class_name>CHOICE_PREFERENCE_WIDGET</class_name></cell>
				</row>
				<row>
					<cell><class_name>COLOR_PREFERENCE</class_name></cell>
					<cell><class_name>COLOR_PREFERENCE_WIDGET</class_name></cell>
				</row>
				<row>
					<cell><class_name>FONT_PREFERENCE</class_name></cell>
					<cell><class_name>FONT_PREFERENCE_WIDGET</class_name></cell>
				</row>
			</table>
		</paragraph>All of these widgets inherit the abstract base class <class_name>PREFERENCE_WIDGET</class_name> and implement the required deferred features therein.  Each implementation implements handling of an <class_name>EV_GRID_ITEM</class_name> widget from EiffelVision2 for use in the <class_name>EV_GRID</class_name> control, which allows for viewing and editing of the underlying preference value.  For example, <class_name>BOOLEAN_PREFERENCE_WIDGET</class_name> uses an <class_name>EV_GRID_COMBO_ITEM</class_name> to display the 'True' and 'False' properties of a <class_name>BOOLEAN_PREFERENCE</class_name>.  When the widget is loaded it displays the current value of the associated preference in the combo box.  When the user changes the combo box value the preference value is changed also, and optionally saved.
		<paragraph>Using these supplied widgets in your interface is simply a matter of creating the object and adding the  
			<feature_name>change_item_widget</feature_name> to an instance of <class_name>EV_GRID</class_name>.  By default the library provides such a view, in the form of PREFERENCES_WINDOW, which is a control that contains an <class_name>EV_GRID</class_name> and has all the necessary logic to handle graphical manipulation of the prefernce types provided in the library.  This is an <class_name>EV_TITLED_WINDOW</class_name> with a navigable tree for finding groups of related preferences (i.e. managers), and a grid for displaying each preference.  It is a useful, general purpose interface for preference manipulation.  As with preferences themselves you may create your own custom view if this dialog is not sufficient for your needs, and can use the code therein as a template for your owm code.  Below is an image of the supplied window as it appears in the EiffelStudio preferences environment.
		</paragraph>
		<paragraph>
			<image>
				<url>preference_window.PNG</url>
			</image>
		</paragraph>
<paragraph>For an example of creating custom widget views for individual preferences, or a custom view for all preferences, please refer to the example in this documentation.</paragraph>
	</paragraph></document>
