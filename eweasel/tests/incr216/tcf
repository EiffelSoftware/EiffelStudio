
--| Copyright (c) 1993-2006 University of Southern California and contributors.
--| All rights reserved.
--| Your use of this work is governed under the terms of the GNU General
--| Public License version 2.

-- This is a test control file

test_name 	 own-string-bogus-vgcc5
test_description A system has its own STRING_8 class, excluding the one from EiffelBase. This STRING_8 class does not inherit from TO_SPECIAL [CHARACTER], which causes a VEEN error.  After the compiler correctly detects this error, the missing inheritance clause is added to STRING_8.  The compiler then reports a bogus VGCC(5) error in class MISMATCH_CORRECTOR.

define PARENT 	""
define ATTRIBUTE ""
copy_sub 	Ace $TEST Ace
copy_raw 	test.e $CLUSTER test.e
copy_sub 	string_8.e $CLUSTER string_8.e
copy_sub 	string_32.e $CLUSTER string_32.e
copy_sub 	string_general.e $CLUSTER string_general.e
compile_melted
compile_result 	validity_error TYPE VJRV(2); STRING_TO_INTEGER_CONVERTOR VEEN VEEN; FILE VEEN VEEN VEEN VEEN VEEN VEEN VEEN VEEN VEEN VEEN VEEN VEEN; RAW_FILE VEEN; PLAIN_TEXT_FILE VEEN; CONSOLE VEEN VEEN VEEN

define PARENT 	"TO_SPECIAL [CHARACTER] rename item as item redefine copy, is_equal, out, item, infix "@", put, valid_index end"
copy_sub 	string_8.e $CLUSTER string_8.e
define PARENT 	"TO_SPECIAL [CHARACTER_32] rename item as item redefine copy, is_equal, out, item, infix "@", put, valid_index end"
copy_sub 	string_32.e $CLUSTER string_32.e
resume_compile
compile_result 	validity_error STRING_8 Library_error

define PARENT 	"TO_SPECIAL [CHARACTER] rename item as item redefine copy, is_equal, out, item, infix "@", put, valid_index end"
define ATTRIBUTE "internal_hash_code: INTEGER"
copy_sub 	string_8.e $CLUSTER string_8.e
define PARENT 	"TO_SPECIAL [CHARACTER_32] rename item as item redefine copy, is_equal, out, item, infix "@", put, valid_index end"
copy_sub 	string_32.e $CLUSTER string_32.e
resume_compile
compile_result 	ok

test_end
