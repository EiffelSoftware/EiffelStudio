<document title="14 Putting a System Together">
	<meta_data>
		<help>
			<toc>
				<envision_location>EiffelEnvision\A Guide to Eiffel for .NET\Invitation to Eiffel</envision_location>
				<envision_pseudo_name>95</envision_pseudo_name>
				<envision_title>Putting a System Together</envision_title>
			</toc>
		</help>
	</meta_data>
	<paragraph>
		<paragraph>We have now studied the constituents of Eiffel software.  It remains to see how you can combine these elements into executable 
			<bold>systems</bold> (the Eiffel concept closest to the traditional notion of program) and libraries.
		</paragraph>
		<paragraph>How do you get an executable system? All you need is to
		<line_break/>
		<list ordered="false">
			<item>Provide a set of classes, called a 
				<bold>universe</bold>.
			</item>
			<item>Designate one of these classes as the 
				<bold>root class</bold>.
			</item>
			<item>Designate one of its creation procedures as the 
				<bold>root procedure</bold>.
			</item>
		</list></paragraph>
		<paragraph>This defines what it means to execute the system: create one direct instance of the root class (the execution's 
			<bold>root object</bold>); and call the root procedure on it.  That's all.
		</paragraph>
		<paragraph>In any practical case, the root procedure will create other objects, call other routines on them, leading to further creations and calls.  </paragraph>
		<paragraph>For the system to be valid, it must include all the classes which the  root 
			<bold>needs</bold> directly or indirectly; a class "needs" another if it is one of its heirs or clients.
		</paragraph>
		<paragraph>For a library we don't need to specify a root. If we want to make sure that every class in a library compiles fine we can specify that we want all classes to be the root.</paragraph>
		<paragraph>The Eiffel method suggests grouping related classes (typically 5 to 40 classes) into collections called 
			<bold>clusters</bold>.  A universe is then a set of clusters.  For example the EiffelBase library is divided into clusters corresponding each to a major category of data structure: 
			<code>
				<string>lists</string>
			</code>, 
			<code>
				<string>tables</string>
			</code>, 
			<code>
				<string>iteration</string>
			</code> and so on.  You can nest clusters, using for example EiffelBase, with its own subclusters as listed, as a cluster of your system.
		</paragraph>
		<paragraph>How will you specify a universe? Any Eiffel implementation can use its own conventions.  EiffelStudio applies a simple policy:
		<line_break/>
		<list ordered="false">
			<item>Store each class in a single file, called its class file, with a name of the form 
				<code>
					<string>name</string>
				</code>
				.
				<code>
					<keyword>e</keyword>
				</code>.  For clarity, 
				<code>
					<string>name</string>
				</code> should be the lower-case version of the class name, although this is a style rule, not a requirement.
			</item>
			<item>Put all the class files of a cluster into a single directory (folder on Windows), called its cluster directory.
			<note>It is desirable for clarity, as a style rule, to separate clusters that directly contain classes ("terminal clusters") from those that have subclusters.  Cluster directories will then contain class files or cluster subdirectories, but not both.  </note>
			</item>
			<item>To specify a system, it suffices to provide a list of cluster directories, along with the name of the root class and root procedure.  The universe consists of the classes contained in all the class files in the listed cluster directories.  </item>
		</list>
		</paragraph>
		<paragraph>
			Such a system specification is written in an ecf (eiffel configuration file) which is an xml based file format. It can be created by using the project settings in EiffelStudio.
		</paragraph>
	</paragraph></document>
