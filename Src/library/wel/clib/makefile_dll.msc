CC = cl.exe
PROJ = wel_hook
OBJS = $(PROJ).OBJ

CFLAGS = -nologo -D_WIN32_WINNT=0x200 -W3 -Ox
LFLAGS = -DLL -SECTION:.shared,RWS \
		-EXPORT:MouseProc -EXPORT:hook_mouse -EXPORT:unhook_mouse

LIBS =  -OUT:$(PROJ).dll kernel32.lib user32.lib advapi32.lib

$(PROJ).DLL: $(OBJS)
    link -NOLOGO $(LFLAGS) $(OBJS) $(LIBS)

.cpp.obj:
    $(CC) $(CFLAGS) $<
