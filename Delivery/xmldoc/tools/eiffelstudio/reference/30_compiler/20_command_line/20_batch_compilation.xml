<document title="Batch compilation" output="studio">
	<meta_data>
		<help>
			<meta>
				<content>Batch compilation</content>
				<name>MS-HKWD</name>
			</meta>
		</help>
	</meta_data>
	<paragraph>
		<heading>
			<size>1</size>Batch compilation
		</heading>
		<paragraph>In order to launch a compilation without user intervention you need to specify the `-batch' switch in the 
			<bold>ec</bold> command line, otherwise the Eiffel compilation will be blocked. We will present below a typical example of batch processing on both Unix and Windows platforms where we want to compile a project in both frozen and finalized mode, then to launch the C compilations. At the same time we want to save the output of 
			<bold>ec</bold> and the C compilations.
		</paragraph>
		<heading>
			<size>3</size>Unix
		</heading>In a file called `launch_ec' you can have the following: 
		<paragraph>
			<code>#!/bin/sh
				<line_break></line_break>
				<line_break></line_break>output_file="/output_path/OUTPUT"
				<line_break></line_break>
				<line_break></line_break>cd /your_project_path
				<line_break></line_break>
				<line_break></line_break>#Launch Eiffel compilation
				<line_break></line_break>ec -batch -ace Ace.ace -finalize 2&gt; $output_file
				<line_break></line_break>
				<line_break></line_break>#Launch C compilation for frozen code
				<line_break></line_break>
				<line_break></line_break>cd EIFGEN/W_code finish_freezing &gt; $output_file
				<line_break></line_break>#Launch C compilation for finalized code
				<line_break></line_break>
				<line_break></line_break>cd EIFGEN/F_code finish_freezing &gt; $output_file
				<line_break></line_break>
			</code>
		</paragraph>
		<paragraph>It will go the directory where your project is located and compile your Eiffel code using the `Ace.ace' file located in your project directory and compile automatically the C code. All outputs will be stored in the file `/output_path/OUTPUT'.</paragraph>
		<paragraph>
			<bold>Note:</bold> All output from 
			<bold>ec</bold> are going to the error output, so do not forget to redirect the error output when you want to see the result.
		</paragraph>
		<heading>
			<size>3</size>Windows
		</heading>In a file called `launched_ec.bat' you can have the following: 
		<paragraph>
			<code>#Launch Eiffel compilation
				<line_break></line_break>ec -batch -ace Ace.ace -finalize &gt; c:\output_path\OUTPUT
				<line_break></line_break>
				<line_break></line_break>#Launch C compilation for frozen code
				<line_break></line_break>cd EIFGEN\W_code finish_freezing &gt; c:\output_path\OUTPUT
				<line_break></line_break>
				<line_break></line_break>#Launch C compilation for finalized code
				<line_break></line_break>cd EIFGEN\F_code
				<line_break></line_break>finish_freezing &gt; c:\output_path\OUTPUT
			</code>
		</paragraph>
		<paragraph>It will go the directory where your project is located and compile your Eiffel code using the `Ace.ace' file located in your project directory and compile automatically the C code. All outputs will be stored in the file `c:\output_path/OUTPUT'.</paragraph>
		<seealso>
			<bold>See Also</bold>
			<line_break></line_break>
			<link>
				<url>10_command_line_options.xml</url>
				<label>command line compiler options</label>
			</link>
		</seealso>
		<line_break></line_break>
		<line_break></line_break>
		<line_break></line_break>
	</paragraph>
</document>