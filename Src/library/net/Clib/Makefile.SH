case $CONFIG in
'')
	if test ! -f config.sh; then
		(echo "Can't find config.sh."; exit 1)
	fi 2>/dev/null
	. ./config.sh
	;;
esac
case "$0" in
*/*) cd `expr X$0 : 'X\(.*\)/'` ;;
esac
echo "Extracting "."/Makefile (with variable substitutions)"
$spitshell >Makefile <<!GROK!THIS!
########################################################################
# Makefile generated from Makefile.SH on $DATE

SHELL = /bin/sh
AR = ar rc
CC = $cc
CTAGS = ctags
CFLAGS = $optimize $ccflags $large -I\$(ISE_EIFFEL)/studio/spec/\$(ISE_PLATFORM)/include -I\$(EIFFEL_SRC)/C/run-time/include
MTCFLAGS = $optimize $mtccflags $large -I\$(ISE_EIFFEL)/studio/spec/\$(ISE_PLATFORM)/include -I\$(EIFFEL_SRC)/C/run-time/include
SHAREDLINK = $sharedlink
LDSHAREDFLAGS = $ldsharedflags
LN = $ln
MAKE = make
MKDEP = $mkdep \$(DPFLAGS) --
RANLIB = $ranlib
MKDIR = $mkdir -p
MV = $mv
RM = $rm -f
########################################################################
# Automatically generated parameters -- do not edit

SOURCES =  \$(LSRCS)

NET_LIBS = libnet.a libmtnet.a libnet.so libmtnet.so
########################################################################
# New suffixes and associated building rules -- edit with care


!GROK!THIS!
$spitshell >>Makefile <<'!NO!SUBS!'

all: $(NET_LIBS)
	$(MKDIR) ../spec/$(ISE_PLATFORM)/lib
	$(MV) $? ../spec/$(ISE_PLATFORM)/lib
	make clobber

SMODE = local.c network.c network_r.c storable.c

LSRCS = $(SMODE)

MT_OBJECTS = \
	MTlocal.o \
	MTnetwork.o \
	MTnetwork_r.o \
	MThostname.o \
	MTsyncpoll.o \
	MTstorable.o

OBJECTS = \
	local.o \
	network.o \
	network_r.o \
	hostname.o \
	syncpoll.o \
	storable.o

ALL_OBJECTS = $(OBJECTS) $(MT_OBJECTS)
MTlocal.o: local.c
	$(CC) -c $(MTCFLAGS) $? -o $@

MTnetwork.o: network.c
	$(CC) -c $(MTCFLAGS) $? -o $@

MTnetwork_r.o: network_r.c
	$(CC) -c $(MTCFLAGS) $? -o $@

MTsyncpoll.o: syncpoll.c
	$(CC) -c $(MTCFLAGS) $? -o $@

MThostname.o: hostname.c
	$(CC) -c $(MTCFLAGS) $? -o $@

MTstorable.o: storable.c
	$(CC) -c $(MTCFLAGS) $? -o $@

libmtnet.a: $(MT_OBJECTS)
	$(RM) $@
	$(AR) $@ $(MT_OBJECTS)
	$(RANLIB) $@

libmtnet.so: $(MT_OBJECTS)
	$(RM) $@
	$(SHAREDLINK) $(LDSHAREDFLAGS) $@ $(MT_OBJECTS)

libnet.a: $(OBJECTS)
	$(RM) $@
	$(AR) $@ $(OBJECTS)
	$(RANLIB) $@

libnet.so: $(OBJECTS)
	$(RM) $@
	$(SHAREDLINK) $(LDSHAREDFLAGS) $@ $(OBJECTS)

local_realclean::
	$(RM) $(NET_LIBS) $(ALL_OBJECTS)
########################################################################
# Common rules for all Makefiles -- do not edit

emptyrule::

clean: local_clean
realclean: local_realclean
clobber: local_clobber

local_clean::
	$(RM) core *~ *.o

local_realclean:: local_clean

local_clobber:: local_realclean
	$(RM) Makefile config.sh

Makefile: Makefile.SH
	/bin/sh Makefile.SH

tags::
	$(CTAGS) -w *.[ch]
	$(CTAGS) -xw *.[ch] > tags

local_clobber::
	$(RM) tags

########################################################################
# Dependencies generated by make depend
# DO NOT DELETE THIS LINE -- make depend relies on it

# Put nothing here or make depend will gobble it up
.FORCE_DEPEND::
	@echo "You must run 'make depend' in $(TOP) first."; exit 1
!NO!SUBS!
chmod 644 Makefile
$eunicefix Makefile

