<document title="Metric Definition Panel" output="studio">
	<meta_data>
	</meta_data>
	<paragraph>
		<paragraph>
			In the metric definition panel, you can do the following:
			<list ordered="false">
				<item>
					Manage user-defined metrics, such as defining new metrics and modify  or remove existing ones. Metrics with a small lock in their icons are predefined metrics which cannot be changed or remvoed
				</item>
				<item>
					Import metrics from other systems	
				</item>
				<item>
					Backup user-defined metrics
				</item>
			</list>
		</paragraph>
		<paragraph>The following figure shows the layout of the metric definition panel:</paragraph>
		<paragraph>
			<image>
				<url>../../../../../images/eiffelstudio/metrics_tool/interface6.png</url>
				<alt_text>Metric definition panel</alt_text>
			</image>
		</paragraph>
		<paragraph>Let's have a look at the buttons in the main toolbar which is highlighted in the following figure:</paragraph>
		<paragraph>
			<image>
				<url>../../../../../images/eiffelstudio/metrics_tool/interface7.png</url>
				<alt_text>Main toolbar buttons</alt_text>
			</image>
		</paragraph>
		<paragraph>
			<image>
				<url>../../../../../images/eiffelstudio/metrics_tool/new_metric_icon.png</url>
				<alt_text>New metric</alt_text>
				New metric<line_break/>
				Use this button to create a new metric. First you need to select a metric type (basic, linear or ratio) and then you may need to select a unit (only for basic and linear metrics). Once a metric is created, its unit cannot be changed.
			</image>
		</paragraph>
		<paragraph>
			<image>
				<url>../../../../../images/eiffelstudio/metrics_tool/new_document_icon.png</url>
				<alt_text>Clone metric</alt_text>
				Clone selected metric to a new metric<line_break/>
				If you want to define a new metric but the new metric is quite similar to an existing one, then you can use this button to simplify your work: just clone an existing one and do the modifications.
			</image>
		</paragraph>

		<paragraph>
			<image>
				<url>../../../../../images/eiffelstudio/metrics_tool/general_remove_icon.png</url>
				<alt_text>Remove metric</alt_text>
				Remove metric<line_break/>
				Remove current selected metric. This button will be insensitive when the current selected metric is a predefined metric.
			</image>
		</paragraph>
		<paragraph>
			<image>
				<url>../../../../../images/eiffelstudio/metrics_tool/general_save_icon.png</url>
				<alt_text>Save metric</alt_text>				
				Save metric<line_break/>
				To make your newly defined or modified metric take effect, you need to save it first. This button will be insensitive when the current selected metric is a predefined metric.
			</image>
		</paragraph>
		<paragraph>
			<image>
				<url>../../../../../images/eiffelstudio/metrics_tool/command_send_to_external_editor_icon.png</url>
				<alt_text>External editor</alt_text>				
				Open user-defined metric file in external editor<line_break/>
				Metrics are stored in XML format, and this button opens the XML file of user-defined metrics in a an external editor which can be specified in the preferences.
			</image>
		</paragraph>	
			
		<paragraph>
			<image>
				<url>../../../../../images/eiffelstudio/metrics_tool/general_open_icon.png</url>
				<alt_text>Reload metrics</alt_text>				
				Reload metrics<line_break/>
				This button reloads all metrics including predefined and user-defined metrics. It's useful when you modify the metric XML file in an external editor and want the changes to have an effect without restarting EiffelStudio.
			</image>
		</paragraph>					

		<paragraph>
			<image>
				<url>../../../../../images/eiffelstudio/metrics_tool/metric_export_to_file_icon.png</url>
				<alt_text>import</alt_text>				
				Import metrics<line_break/>
				This button opens a dialog to backup or import metrics.
			</image>
		</paragraph>					
		<heading>
			<size>2</size>
			<content>Define New Metrics</content>
		</heading>		
		<paragraph>To define a new metric, you need to choose the metric type and unit (for basic metric and linear metric). The following figure shows how to choose metric type and unit:</paragraph>
		<paragraph>
			<image>
				<url>../../../../../images/eiffelstudio/metrics_tool/interface8.png</url>
				<alt_text>Choose metric type</alt_text>				
			</image>
		</paragraph>
		<paragraph>The following figure shows a new basic class metric:</paragraph>
		<paragraph>
			<image>
				<url>../../../../../images/eiffelstudio/metrics_tool/interface9.png</url>
				<alt_text>basic metric</alt_text>				
			</image>
		</paragraph>
		<paragraph>When defining basic metrics, you can press Ctrl + Space in a cell in the criterion column (the first column in "definition" area) to get a list of all applicable criteria. You can also type "and" or "or" in that cell to get criterion connectors. And you can put "not" in front of a criterion name to get its negation. After typing the criterion name and hitting enter, if the criterion needs further setup, the property cell of that criterion will be highlighted. For domain criterion such as ancestor_is, caller_is, you can pick an item and drop it into this property cell.</paragraph>
		<paragraph>The following figure shows a new linear feature metric:</paragraph>
		<paragraph>
			<image>
				<url>../../../../../images/eiffelstudio/metrics_tool/interface10.png</url>
				<alt_text>linear metric</alt_text>				
			</image>
		</paragraph>	
		<paragraph>For every metric referenced in a linear metric, you need to specify a coefficient. You can pick a metric and drop it into a cell of the "Metrics" column in the "Metric Definition" area.</paragraph>
		<paragraph>The following figure shows a new ratio metric:</paragraph>
		<paragraph>
			<image>
				<url>../../../../../images/eiffelstudio/metrics_tool/interface11.png</url>
				<alt_text>ratio metric</alt_text>				
			</image>
		</paragraph>
		<paragraph>For the numerator or denominator metric, you  need to specify a coefficient. When the denominator part evaluates to zero, the result of the ratio metric will be "Undefined". You can pick a metric and drop it into the numerator or denominator metric area.</paragraph>
		<heading>
			<size>2</size>
			<content>Import Metrics</content>
		</heading>		
		<paragraph>In order to reuse metrics defined in a different system, you need to import them into current system. The following figure shows how to import metrics:</paragraph>		
		<paragraph>
			<image>
				<url>../../../../../images/eiffelstudio/metrics_tool/interface12.png</url>
				<alt_text>Import metrics</alt_text>				
			</image>
		</paragraph>
		<heading>
			<size>2</size>
			<content>Backup User-defined Metrics</content>
		</heading>		
		<paragraph>The following figure shows how to back user-defined metrics:</paragraph>
		<paragraph>
			<image>
				<url>../../../../../images/eiffelstudio/metrics_tool/interface13.png</url>
				<alt_text>Backup metrics</alt_text>				
			</image>
		</paragraph>		
	</paragraph>
</document>
