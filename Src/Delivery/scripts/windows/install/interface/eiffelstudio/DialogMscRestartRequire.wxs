<?xml version="1.0"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
  <Fragment>
    <?ifdef EiffelStudio?>
      <UI Id="UI.dialog_msc_restart_required">
        <Dialog Id="DialogMscRestartRequired" Width="375" Height="220" Title="[ProductName]" TrackDiskSpace="yes">
          <Control Id="Bitmap" Type="Bitmap" X="0" Y="0" Width="375" Height="220" TabSkip="no" Text="backdrop_warn.bmp" />
          <Control Id="Title" Type="Text" X="56" Y="13" Width="309" Height="57" Transparent="yes" NoPrefix="yes">
            <Text>[BigFont]Restart Required</Text>
          </Control>
          <Control Id="SubTitle" Type="Text" Height="13" Width="302" X="56" Y="35" Transparent="yes" NoPrefix="yes">
            <Text>[SubTitleFont]The installer need to be restarted to incorparate externally changes</Text>
          </Control>
          <Control Id="Description1" Type="Text" X="9" Y="73" Width="356" Height="38" Transparent="yes" >
            <Text>The [ProductName] installer needs to be restarted to account for externally changes to you system. It needs to ensure a Microsoft C/C++ compiler was fully installed and was installed correctly.</Text>
          </Control>
          <Control Id="Description2" Type="Text" Height="22" Width="356" X="9" Y="111" Transparent="yes">
            <Text>Please click the button below to verify the presence of a Microsoft C/C++ compiler. Once detected click the Restart button to restart the installer.</Text>
          </Control>
          <Control Id="CheckCompiler" Type="PushButton" X="9" Y="142" Width="160" Height="17" Text="[Button_CheckCCompiler]">
            <Publish Event="DoAction" Value="EvaluateCCompiler">1</Publish>
            <Publish Property="C_CONFIG_MSC_FOUND" Value="1"><![CDATA[C_CONFIG_MSC_FOUND = "1"]]></Publish>
            <Publish Property="C_CONFIG_MSC_FOUND" Value="0"><![CDATA[C_CONFIG_MSC_FOUND = "0"]]></Publish>
          </Control>
          <Control Id="Back" Type="PushButton" X="187" Y="193" Width="56" Height="17" Text="[Button_Back]">
            <Publish Event="NewDialog" Value="DialogSelectCCompiler">1</Publish>
            <Condition Action="disable"><![CDATA[C_CONFIG_MSC_FOUND = "1"]]></Condition>
            <Condition Action="enable"><![CDATA[C_CONFIG_MSC_FOUND <> "1"]]></Condition>
          </Control>
          <Control Id="Restart" Type="PushButton" X="242" Y="193" Width="56" Height="17" Default="yes" Text="[Button_Restart]">
            <Publish Event="DoAction" Value="EvaluateCCompiler">1</Publish>
            <Publish Event="NewDialog" Value="DialogWelcome">1</Publish>
            <Condition Action="disable"><![CDATA[C_CONFIG_MSC_FOUND <> "1"]]></Condition>
            <Condition Action="enable"><![CDATA[C_CONFIG_MSC_FOUND = "1"]]></Condition>
          </Control>
          <Control Id="Cancel" Type="PushButton" X="309" Y="193" Width="56" Height="17" Cancel="yes" Text="[Button_Cancel]">
            <Publish Event="SpawnDialog" Value="PromptCancelInstall">1</Publish>
          </Control>
        </Dialog>
      </UI>
    <?endif?>
  </Fragment>
</Wix>
