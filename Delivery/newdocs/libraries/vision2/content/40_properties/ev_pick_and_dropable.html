<!DOCTYPE HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<HTML>
	<HEAD>
		<TITLE>Pick and Drop</TITLE>
		<LINK REL=StyleSheet HREF="/default.css">
	</HEAD>

	<BODY>
		<H1>Pick And Drop Overview</H1>
			<P>Pick and drop is a mechanism which allows data to be transported from a <B>source</B> object to a <B>target</B>. Any Vision2 object inheriting
			<A CLASS="eclass" HREF="/libraries/vision2/reference/interface/properties/ev_pick_and_dropable_chart.html">EV_PICK_AND_DROPABLE</A>
			can be used to transport or receive data.
			</P>

		<H2>A simple pick and drop example</H2>
		<P>Two necessary components for a pick and drop transport are a <B>source</B> and a <B>target</B>, both of which must conform to <A CLASS="eclass" HREF="/libraries/vision2/reference/interface/properties/ev_pick_and_dropable_chart.html">EV_PICK_AND_DROPABLE</A>. The data that is to be transported is known as a <B>pebble</B>.</P>
		<P>The following steps need to be undertaken to set up a simple pick and drop:
		<UL>
			<LI>Set the <B>source</B> by calling <A CLASS="efeature" HREF=/libraries/vision2/reference/interface/properties/ev_pick_and_dropable.html#f_set_pebble">set_pebble</A>.
			<LI>Set one or more <B>targets</B> by adding a function to their <A CLASS="efeature" HREF=/libraries/vision2/reference/interface/properties/ev_pick_and_dropable.html#f_drop_actions">drop_actions</A>. The arguments of the function must
			match the type of the <B>pebble</B> to be transported for the <B>source</B> otherwise the transport will not be permitted.
		</UL>
        <p>A simple example of this is demonstrated here:</p>
        <SPAN Class="code"><SPAN Class="efeature">button1.set_pebble</SPAN> (<SPAN Class="estring">&quot;A
        PND transport has occured%N&quot;</SPAN>)<BR> <SPAN Class="efeature">button2.drop_actions.extend</SPAN> (<SPAN Class="ekeyword">agent</SPAN> <SPAN Class="efeature">print</SPAN> (?))</SPAN>
        <P>As print takes an argument of type
        <a href="../../../base/reference/kernel/string_chart.html">STRING</a>, button2 becomes a
        valid target for the pebble contained in button1.&nbsp; Right clicking
        the mouse pointer over the <B>source</B> will start the transport, and right clicking
        with the mouse pointer a valid <B>target</B> will end the transport.&nbsp;
        The transport can be cancelled anytime with a left click, just as you
        would do in Eiffel Studio.</p>

		<P CLASS="note"><B>Note</B>: When a transport completes, the <B>pebble</B> that was transported is passed as an argument to all features in the <B>targets</B> <A CLASS="efeature" HREF=/libraries/vision2/reference/interface/properties/ev_pick_and_dropable.html#f_drop_actions">drop_actions</A> whose
        argument type matches the <B>pebble</B></P>
		<H2>Three different modes of transport</H2>
		<P>There are three different modes of transport available for pick and drop. They are listed below with details of their use:
		<UL>
			<LI>Pick and Drop mode.<br>This is the default mode for pick and drop, but can be set with <A CLASS="efeature" HREF=/libraries/vision2/reference/interface/properties/ev_pick_and_dropable.html#f_set_pick_and_drop_mode">set_pick_and_drop_mode</A>. Right clicking on a
			<B>source</B> starts the transport and right clicking on a valid <B>target</B> completes the transport. During execution, a band is drawn from the screen position where the pick started to the current mouse position. Pressing the left mouse button or the escape key during execution will end the transport.
			<LI>Drag and drop mode<br>This mode can be set with <A CLASS="efeature" HREF=/libraries/vision2/reference/interface/properties/ev_pick_and_dropable.html#f_set_drag_and_drop_mode">set_drag_and_drop_mode</A>. Left clicking on a <B>source</B> starts the transport and releasing the left mouse button over a valid
			<B>target</B> completes the transport. During execution, a band is drawn from the screen position where the pick started to the current mouse position. Releasing the left mouse button or pressing the escape key during execution will end the transport.
			<LI>Target menu mode<br>This mode can be set with <A CLASS="efeature" HREF=/libraries/vision2/reference/interface/properties/ev_pick_and_dropable.html#f_set_target_menu_mode">set_target_menu_mode</A>. Right clicking on a <B>source</B> brings up a menu of all the valid drop <B>targets</B> in the system. Selecting one
			of these targets completes the transport.
		</UL>
		<H2>Accept and deny cursors</H2>
		<P> When <A CLASS="efeature" HREF=/libraries/vision2/reference/interface/properties/ev_pick_and_dropable.html#f_mode_is_pick_and_drop">mode_is_pick_and_drop</A> or <A CLASS="efeature" HREF=/libraries/vision2/reference/interface/properties/ev_pick_and_dropable.html#f_mode_is_drag_and_drop">mode_is_drag_and_drop</A> then the shape of the
		mouse cursor changes to reflect whether the current GUI component below the mouse accepts the pebble or not. Calling <A CLASS="efeature" HREF=/libraries/vision2/reference/interface/properties/ev_pick_and_dropable.html#f_set_accept_cursor">set_accept_cursor</A> allows you to customize this cursor used to represent a valid <B>target</B> while
		calling <A CLASS="efeature" HREF=/libraries/vision2/reference/interface/properties/ev_pick_and_dropable.html#f_set_deny_cursor">set_deny_cursor</A> allows you to customize the cursor used for non valid <B>targets</B>.
		</P>
	</BODY>
</HTML>
