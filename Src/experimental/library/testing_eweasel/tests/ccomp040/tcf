
--| Copyright (c) 1993-2006 University of Southern California and contributors.
--| All rights reserved.
--| Your use of this work is governed under the terms of the GNU General
--| Public License version 2.

-- This is a test control file

test_name 	c-header-mismatch
test_description Freezing a particular system generates C code that has a different declarations for the same function, causing compilation to fail.

define INSTRUCTION ""
copy_sub 	Ace $TEST Ace
copy_raw	a.e $CLUSTER a.e
copy_sub	a2.e $CLUSTER a2.e
copy_raw	test.e $CLUSTER test.e

copy_raw	any.e $CLUSTER any.e
if DOTNET copy_raw	arguments.e $CLUSTER arguments.e
copy_raw	array.e $CLUSTER array.e
copy_raw	bit_ref.e $CLUSTER bit_ref.e
copy_raw	boolean.e $CLUSTER boolean.e
copy_raw	boolean_ref.e $CLUSTER boolean_ref.e
copy_raw	character_32.e $CLUSTER character_32.e
copy_raw	character_32_ref.e $CLUSTER character_32_ref.e
copy_raw	character_8.e $CLUSTER character_8.e
copy_raw	character_8_ref.e $CLUSTER character_8_ref.e
copy_raw	disposable.e $CLUSTER disposable.e
copy_raw	real_64.e $CLUSTER real_64.e
copy_raw	real_64_ref.e $CLUSTER real_64_ref.e
copy_raw	function.e $CLUSTER function.e
if DOTNET copy_raw	native_array.e $CLUSTER native_array.e
copy_raw	natural_32.e $CLUSTER natural_32.e
copy_raw	natural_16.e $CLUSTER natural_16.e
copy_raw	natural_16_ref.e $CLUSTER natural_16_ref.e
copy_raw	natural_64.e $CLUSTER natural_64.e
copy_raw	natural_64_ref.e $CLUSTER natural_64_ref.e
copy_raw	natural_8.e $CLUSTER natural_8.e
copy_raw	natural_8_ref.e $CLUSTER natural_8_ref.e
copy_raw	natural_32_ref.e $CLUSTER natural_32_ref.e
copy_raw	integer_16.e $CLUSTER integer_16.e
copy_raw	integer_16_ref.e $CLUSTER integer_16_ref.e
copy_raw	integer_32.e $CLUSTER integer_32.e
copy_raw	integer_32_ref.e $CLUSTER integer_32_ref.e
copy_raw	integer_64.e $CLUSTER integer_64.e
copy_raw	integer_64_ref.e $CLUSTER integer_64_ref.e
copy_raw	integer_8.e $CLUSTER integer_8.e
copy_raw	integer_8_ref.e $CLUSTER integer_8_ref.e
copy_raw	memory.e $CLUSTER memory.e
copy_raw	pointer.e $CLUSTER pointer.e
copy_raw	pointer_ref.e $CLUSTER pointer_ref.e
copy_raw	procedure.e $CLUSTER procedure.e
copy_raw	predicate.e $CLUSTER predicate.e
copy_raw	real_32.e $CLUSTER real_32.e
copy_raw	real_32_ref.e $CLUSTER real_32_ref.e
copy_raw	routine.e $CLUSTER routine.e
copy_raw	special.e $CLUSTER special.e
copy_raw	string_32.e $CLUSTER string_32.e
copy_raw	string_8.e $CLUSTER string_8.e
copy_raw	to_special.e $CLUSTER to_special.e
copy_raw	tuple.e $CLUSTER tuple.e
copy_raw	type.e $CLUSTER type.e
copy_raw	typed_pointer.e $CLUSTER typed_pointer.e
copy_raw	exception.e $CLUSTER exception.e
copy_raw	ise_exception_manager.e $CLUSTER ise_exception_manager.e

compile_final
compile_result 	ok

c_compile_final
c_compile_result ok

define INSTRUCTION "print (v)"
copy_sub	a2.e $CLUSTER a2.e

compile_final
compile_result 	ok

c_compile_final
c_compile_result ok


test_end
