-- Counter associated with a compilation unit (i.e. precompilation,
-- normal compilation or dle compilation).

deferred class COMPILER_SUBCOUNTER [G -> COMPILER_ID]

feature {NONE} -- Initialization

	make is
			-- Create a new counter.
		do
		end

feature -- Access

	next_id: G is
			-- Next id
		deferred
		ensure
			id_not_void: Result /= Void
		end;

	count: INTEGER;
			-- Number of ids generated by the counter

	offset: INTEGER;
			-- Offset to ensure uniqueness of ids
			-- (Used for renumbering)

	prefix_string: STRING is
			-- Prefix for generated C function and table names
		once
			Result := ""
		end

feature -- Setting

	set_offset (o: like offset) is
			-- Set `offset' to `o'.
		do
			offset := o
		ensure
			assigned: offset = o
		end;

end -- class COMPILER_SUBCOUNTER
