<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<LINK REL="stylesheet" HREF="../../../../../default.css" TYPE="text/css">
<TITLE>Data structures creation</TITLE>
<style>
<!--
.Note        {  }
.tip         {  }
.warning     {  }
.figuretitle {  }
-->
</style>
</head>

<body>

<h1 align="left">Data structures creation</h1>
<h2 align="left">1. Overview</h2>
<p align="left"> EiffelStore enables to create data structures mapped to your
own database. This
part describes how the EiffelStore
wizard generates these structures mapped to your database and how you can
map your own classes to your database with EiffelStore.</p>
<p align="left" class="tip"> <b>Tip:</b> We recommend that you read <a href="../../../../../libraries/store/content/30_data_structures_generation/10_data_structures_use/index.html">what
are and how to use</a> these data structures before reading this section.</p>
<p align="left">The EiffelStore wizard generates the database-specific classes
from an EiffelStore generation system based on template files containing tags.</p>
<p align="left">Let us see first <a href="#generation_system"> how the EiffelStore generation system
works</a>.
Let us see then <a href="#wizard_generation"> how the EiffelStore wizard uses this system</a> for the data
structures generation.</p>
<h2 align="left">2. <a name="generation_system"></a>EiffelStore generation
system</h2>
<p align="left">This part describes the class creation in 4 steps:</p>
<ul>
  <li>
    <p align="left"><a href="#capabilities">Mapping system possibilities</a></li>
  <li>
    <p align="left"><a href="#mapping_system">General mapping system</a></li>
  <li>
    <p align="left"><a href="#tags_descr">Tags description</a></li>
  <li>
    <p align="left"><a href="#gen_impl_overview">Implementation overview</a></li>
</ul>
    <h3 align="left">2.1. <a name="capabilities"></a>Capabilities</h3>
<p align="left">Let us see first what information you can map into your classes.<p align="left">2
kinds of classes can be generated:
<ul>
  <li>
    <p align="left">Classes that represents a database table.</li>
  <li>
    <p align="left">Classes that represents the whole database.</li>
</ul>
<h4 align="left">2.1.1. Database table classes</h4>
<p align="left">You can insert information about a database table:</p>
<ul>
  <li>
    <p align="left">The table name</li>
  <li>
    <p align="left">The number of attributes of table</li>
</ul>
<p align="left">You can also select a piece of code, map it to a table attribute
and repeat the operation for every attribute. Information that can be inserted
is:</p>
<ul>
  <li>
    <p align="left">The attribute names</li>
  <li>
    <p align="left">The attribute types</li>
  <li>
    <p align="left">The attribute default creation values</li>
  <li>
    <p align="left">The attribute positions in the table</li>
</ul>
<p align="left">Thus you can get for instance class attributes that correspond
to database attributes:</p>
<p align="left"><code>class CONTACTS<br>
<br>
feature<br>
<br>
id: INTEGER<br>
<br>
lastname: STRING<br>
<br>
firstname: STRING</code></p>
<p align="left">You can also modify the piece of code to map for the first and
last attributes, for cosmetics reasons. You can also choose to only map a piece
of code to attributes of a given type.</p>
<h4 align="left">2.1.2. Database content classes</h4>
<p align="left">Database content classes can basically store the list of your
database tables.</p>
<p align="left">You can select a piece of code and map it to database table
information:</p>
<ul>
  <li>
    <p align="left">Database table name.</li>
  <li>
    <p align="left">Database table position in the database.</li>
</ul>
<p align="left">The mapped pieces of code are then concatenated in your file.</p>
<h3 align="left">2.2. <a name="mapping_system"></a>General mapping system </h3>
<p align="left">&nbsp;EiffelStore follows this sequence of steps to generate a
class: </p>
<ol>
  <li>
    <p align="left">You provide meta-data about the table or view</li>
  <li>
    <p align="left">You provide the template</li>
  <li>
    <p align="left">It parses the template to find the tags</li>
  <li>
    <p align="left">It replaces each tag by the meta-data value corresponding to
    the tag</li>
</ol>
<p align="left">Let us take an example:</p>
<table border="1" width="59%">
  <tr>
    <td width="47%">template file extract</td>
    <td width="53%">corresponding result file extract</td>
  </tr>
  <tr>
    <td width="47%">attribute_count: &lt;ACNT></td>
    <td width="53%">attribute_count: 5</td>
  </tr>
</table>
<p align="left">This works for meta-data on the class or view. For meta-data on
class (or view) attributes, a second tag type enables to specify text areas that
are mapped to specific table (or view) attributes. </p>
<p align="left">Let us take an example: </p>
<table border="1" width="59%">
  <tr>
    <td width="50%">template file extract</td>
    <td width="50%">corresponding result file extract</td>
  </tr>
  <tr>
    <td width="50%" valign="top">&lt;A:A:A>	&lt;AN:L>: &lt;TN:U><br>
      <br>
      &lt;/A></td>
    <td width="50%" valign="top">companyid: DOUBLE<br>
      <br>
      companyname: STRING<br>
      <br>
      </td>
  </tr>
</table>
<p align="left">Text contained in the tag 'A' is mapped to each table (or view)
attribute and the resulting texts are concatenated. Let us see now the details
about each tag. </p>
<h3 align="left">2.3. <a name="tags_descr"></a>Tags description </h3>
<h4 align="left">2.3.1. Database table tags description </h4>
<p align="left">The available tags for database table classes generation can be separated into 3 types: </p>
<ul>
  <li>
    <p align="left">Tags corresponding to <a href="#table_meta-data">table
    meta-data</a></li>
  <li>
    <p align="left">Tags corresponding to <a href="#attribute_meta-data">attribute
    meta-data</a></li>
  <li>
    <p align="left">Tags to <a href="#enclosing_tag">enclose attribute meta-data</a></li>
</ul>
<h5 align="left">2.3.1.1. <a name="table_meta-data"></a>Table meta-data tags</h5>
<table border="1" width="63%">
  <tr>
    <td width="14%" rowspan="2"><b>Tag name</b></td>
    <td width="34%" rowspan="2"><b>Tag description</b></td>
    <td width="52%" colspan="2"><b>Options</b></td>
  </tr>
  <tr>
    <td width="19%"><b>Option name</b></td>
    <td width="33%"><b>Option description</b></td>
  </tr>
  <tr>
    <td width="14%" rowspan="3">&lt;CN:?&gt;</td>
    <td width="34%" rowspan="3">Table name</td>
    <td width="19%">U</td>
    <td width="33%">in uppercase</td>
  </tr>
  <tr>
    <td width="19%">I</td>
    <td width="33%">with initial capital</td>
  </tr>
  <tr>
    <td width="19%">L</td>
    <td width="33%">in lowercase</td>
  </tr>
  <tr>
    <td width="14%">&lt;ACNT&gt;</td>
    <td width="34%">Attribute count</td>
    <td width="52%" colspan="2">N/A</td>
  </tr>
</table>
<h5 align="left">2.3.1.2. <a name="attribute_meta-data"></a>Attribute meta-data
tags</h5>
<table border="1" width="63%" height="273">
  <tr>
    <td width="14%" rowspan="2" height="44"><b>Tag name</b></td>
    <td width="34%" rowspan="2" height="44"><b>Tag description</b></td>
    <td width="52%" colspan="2" height="19"><b>Options</b></td>
  </tr>
  <tr>
    <td width="19%" height="19"><b>Option name</b></td>
    <td width="33%" height="19"><b>Option description</b></td>
  </tr>
  <tr>
    <td width="14%" rowspan="3" height="69">&lt;AN:?&gt;</td>
    <td width="34%" rowspan="3" height="69">Attribute name</td>
    <td width="19%" height="19">U</td>
    <td width="33%" height="19">in uppercase</td>
  </tr>
  <tr>
    <td width="19%" height="19">I</td>
    <td width="33%" height="19">with initial capital</td>
  </tr>
  <tr>
    <td width="19%" height="19">L</td>
    <td width="33%" height="19">in lowercase</td>
  </tr>
  <tr>
    <td width="14%" height="19">&lt;IT&gt;</td>
    <td width="34%" height="19">Attribute position in the table</td>
    <td width="52%" colspan="2" height="19">N/A</td>
  </tr>
  <tr>
    <td width="14%" rowspan="3" height="69">&lt;TN:?&gt;</td>
    <td width="34%" rowspan="3" height="69">Attribute type name</td>
    <td width="19%" height="19">U</td>
    <td width="33%" height="19">in uppercase</td>
  </tr>
  <tr>
    <td width="19%" height="19">I</td>
    <td width="33%" height="19">with initial capital</td>
  </tr>
  <tr>
    <td width="19%" height="19">L</td>
    <td width="33%" height="19">in lowercase</td>
  </tr>
  <tr>
    <td width="14%" height="19">&lt;TDV&gt;</td>
    <td width="34%" height="19">Attribute type default value</td>
    <td width="52%" colspan="2" height="19">N/A</td>
  </tr>
</table>
<p align="left" class="Note"><b>Note</b>: Attribute tags are only valid within
an enclosing tag.</p>
<h5 align="left">2.3.1.3. <a name="enclosing_tag"></a>Enclosing tags</h5>
<p align="left">The tag &lt;A:?:?&gt; &lt;/A&gt; encloses text that will be
mapped to attributes matching criteria. These criteria are specified by the tag
options:</p>
<ul>
  <li>
    <p align="left"><u>First option</u>: attribute type criterion</p></li>
<table border="1" width="34%" height="172">
  <tr>
    <td width="15%" height="18"><b>Option name</b></td>
    <td width="37%" height="18"><b>Option description</b></td>
  </tr>
  <tr>
    <td width="15%" height="3">A</td>
    <td width="37%" height="3">All attributes</td>
  </tr>
  <tr>
    <td width="15%" height="3">I</td>
    <td width="37%" height="3">INTEGER attributes</td>
  </tr>
  <tr>
    <td width="15%" height="3">S</td>
    <td width="37%" height="3">STRING attributes</td>
  </tr>
  <tr>
    <td width="15%" height="3">D</td>
    <td width="37%" height="3">DATE attributes</td>
  </tr>
  <tr>
    <td width="15%" height="3">B</td>
    <td width="37%" height="3">BOOLEAN attributes</td>
  </tr>
  <tr>
    <td width="15%" height="2">C</td>
    <td width="37%" height="2">CHARACTER attributes</td>
  </tr>
  <tr>
    <td width="15%" height="2">F</td>
    <td width="37%" height="2">DOUBLE attributes</td>
  </tr>
</table>
</ul>
<ul>
  <li>
    <p align="left"><u>Second option</u>: attribute position criterion</p></li>
<table border="1" width="34%" height="136">
  <tr>
    <td width="15%" height="18"><b>Option name</b></td>
    <td width="37%" height="18"><b>Option description</b></td>
  </tr>
  <tr>
    <td width="15%" height="3">A</td>
    <td width="37%" height="3">All attributes</td>
  </tr>
  <tr>
    <td width="15%" height="3">F</td>
    <td width="37%" height="3">First attribute</td>
  </tr>
  <tr>
    <td width="15%" height="3">I</td>
    <td width="37%" height="3">Intermediate attributes</td>
  </tr>
  <tr>
    <td width="15%" height="1">L</td>
    <td width="37%" height="1">Last attribute</td>
  </tr>
</table>
</ul>
<ul><p align="left" class="Note"><b>Note</b>: this option is generally used to have
a valid and nice layout or indentation.</p></ul>
<p align="left" class="Note"><b>Note</b>: several options can be selected for
one criterion.&nbsp;</p>
<h4 align="left">2.3.2. <a name="mapping_system_ext"></a>Database content tags
description</h4>
<p align="left">The tags described above can be reused for database content:
database content class mapping is
equivalent to the previous mapping but within a different scope:</p>
<ul>
  <li>
    <p align="left">class corresponds to the database rather than tables</li>
  <li>
    <p align="left">class content deals with tables rather than table attributes</li>
</ul>
<p align="left">The meaning of available tags is so modified:</p>
<ul>
  <li>
    <p align="left"><a href="#system_meta-data_ext">System meta-data tags</a></li>
  <li>
    <p align="left"> <a href="#table_meta-data_ext"> Table meta-data tags</a></li>
  <li>
    <p align="left"> <a href="#enclosing_tag_ext"> Enclosing tags</a></li>
</ul>
<p align="left" class="Note"><b>Note</b>: every tag is not available for this
mapping.</p>
<h5 align="left">2.3.2.1. <a name="system_meta-data_ext"></a> System meta-data tags</h5>
<table border="1" width="32%">
  <tr>
    <td width="50%"><b>Tag name</b></td>
    <td width="50%"><b>Tag description</b></td>
  </tr>
  <tr>
    <td width="50%">&lt;ACNT&gt;</td>
    <td width="50%">Table count</td>
  </tr>
</table>
<h5 align="left">2.3.2.2. <a name="table_meta-data_ext"></a>  Table meta-data tags</h5>
<table border="1" width="63%">
  <tr>
    <td width="14%" rowspan="2"><b>Tag name</b></td>
    <td width="34%" rowspan="2"><b>Tag description</b></td>
    <td width="52%" colspan="2"><b>Options</b></td>
  </tr>
  <tr>
    <td width="19%"><b>Option name</b></td>
    <td width="33%"><b>Option description</b></td>
  </tr>
  <tr>
    <td width="14%" rowspan="3">&lt;CN:?&gt;</td>
    <td width="34%" rowspan="3">Table name</td>
    <td width="19%">U</td>
    <td width="33%">in uppercase</td>
  </tr>
  <tr>
    <td width="19%">I</td>
    <td width="33%">with initial capital</td>
  </tr>
  <tr>
    <td width="19%">L</td>
    <td width="33%">in lowercase</td>
  </tr>
  <tr>
    <td width="14%">&lt;IT&gt;</td>
    <td width="34%">Table position in the database</td>
    <td width="52%" colspan="2">N/A</td>
  </tr>
</table>
<h5 align="left">2.3.2.3. <a name="enclosing_tag_ext"></a>  Enclosing tags</h5>
<p align="left">The tag &lt;A:A:?&gt; &lt;/A&gt; encloses text that will be
mapped to tables matching a position criterion. This criterion is specified by the tag
options:</p>
<table border="1" width="34%" height="136">
  <tr>
    <td width="15%" height="18"><b>Option name</b></td>
    <td width="37%" height="18"><b>Option description</b></td>
  </tr>
  <tr>
    <td width="15%" height="3">A</td>
    <td width="37%" height="3">All tables</td>
  </tr>
  <tr>
    <td width="15%" height="3">F</td>
    <td width="37%" height="3">First table</td>
  </tr>
  <tr>
    <td width="15%" height="3">I</td>
    <td width="37%" height="3">Intermediate tables</td>
  </tr>
  <tr>
    <td width="15%" height="1">L</td>
    <td width="37%" height="1">Last table</td>
  </tr>
</table>
<h3 align="left">2.4. <a name="gen_impl_overview"></a>Implementation overview</h3>
<p align="left">The data structure generation system is implemented with 4
EiffelStore classes:</p>
<ul>
  <li>
    <p align="left"><a class="eclass" href="../../../reference/generation/generator/db_class_generator_chart.html">DB_CLASS_GENERATOR</a> abstractly generates a class mapped to
    database meta-data.</li>
  <li>
    <p align="left"><a class="eclass" href="../../../reference/generation/generator/db_table_class_generator_chart.html">DB_TABLE_CLASS_GENERATOR</a> generates a class mapped to a
    database table.</li>
  <li>
    <p align="left"><a class="eclass" href="../../../reference/generation/generator/db_access_class_generator_chart.html">DB_ACCESS_CLASS_GENERATOR</a> generates a class mapped to the
    database.</li>
  <li>
    <p align="left"><a class="eclass" href="../../../reference/generation/generator/db_template_tags_chart.html">DB_TEMPLATE_TAGS</a> defines available tags for mapping and
    their meaning.</li>
</ul>
<p align="left"><img border="0" src="ESTORE_GENERATION.GENERATOR.png" width="449" height="154"></p>
<p align="left" class="figuretitle">Generation classes BON diagram</p>
<h2 align="left">3.&nbsp;<a name="wizard_generation"></a>EiffelStore wizard </h2>
<p align="left">The EiffelStore wizard uses the <a href="#generation_system"> EiffelStore generation system</a>
described above to generate the data structures mapped to your database. </p>
<p align="left">The wizard generates 3 types of classes: </p>
<ul>
  <li>
    <p align="left"><a href="#wiz_table_classes">Classes storing database table rows content</a></li>
  <li>
    <p align="left"><a href="#wiz_descr_classes">Classes describing a database table</a></li>
  <li>
    <p align="left"><a href="#wiz_access_class">A class describing the database and giving access to the
    previous types of classes</a></li>
</ul>
    <p align="left">The wizard uses one different template for each class.
<h3 align="left">3.1. <a name="wiz_table_classes"></a> Table classes</h3>
<p align="left">For each selected database table, a class is created from the
same template, mapping the database table. This template is:</p>

<br><code>indexing<br>
&nbsp;&nbsp;&nbsp; description: "Class which allows EiffelStore to retrieve/store%<br>
&nbsp;&nbsp;&nbsp; %the content of a table row from database table &lt;CN:U>"<br>
&nbsp;&nbsp;&nbsp; author: "EiffelStore Wizard"<br>
&nbsp;&nbsp;&nbsp; date: "$Date$"<br>
&nbsp;&nbsp;&nbsp; revision: "$Revision$"<br>
<br>
class<br>
&nbsp;&nbsp;&nbsp; &lt;CN:U><br>
<br>
inherit<br>
&nbsp;&nbsp;&nbsp; DB_TABLE<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --	redefine<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --		out<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --	end<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; undefine<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Tables,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; is_valid_code<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>
<br>
&nbsp;&nbsp;&nbsp; DB_SPECIFIC_TABLES_ACCESS_USE&nbsp;<br>
<br>
create<br>
&nbsp;&nbsp;&nbsp; make<br>
<br>
feature -- Access<br>
<br>
&lt;A:A:A>	&lt;AN:L>: &lt;TN:U><br>
<br>
&lt;/A>	table_description: DB_TABLE_DESCRIPTION is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Description associated to the &lt;CN:L>.<br>
&nbsp;&nbsp;&nbsp; do<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tables.&lt;CN:L>_description.set_&lt;CN:L> (Current)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Result := tables.&lt;CN:L>_description<br>
&nbsp;&nbsp;&nbsp; end<br>
<br>
feature -- Initialization<br>
<br>
&nbsp;&nbsp;&nbsp; set_default is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;A:A:A>			&lt;AN:L> := &lt;TDV><br>
&lt;/A>		end<br>
<br>
feature -- Basic operations<br>
<br>
&lt;A:A:A>	set_&lt;AN:L> (a_&lt;AN:L>: &lt;TN:U>) is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;AN:L> := a_&lt;AN:L><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>
<br>
&lt;/A>feature -- Output<br>
<br>
&nbsp;&nbsp;&nbsp; out: STRING is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Printable representation of current object.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Result := ""<br>
&lt;A:A:A>&nbsp;&nbsp;&nbsp;&nbsp; if &lt;AN:L> /= Void then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Result.append ("&lt;AN:I>: " + &lt;AN:L>.out + "%N")<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>
&lt;/A>&nbsp;&nbsp;&nbsp; end<br>
<br>
end -- class CODES</code><br>

<p align="left" class="Note"><b>Note</b>: the template content can be adjusted,
for instance to add comments or change the indexing. However, the fundamental
template structure should not be changed to use data structures as
described in the <a href="../../../../../libraries/store/content/30_data_structures_generation/10_data_structures_use/index.html">corresponding
section</a>.&nbsp;</p>
<h3 align="left">3.2. <a name="wiz_descr_classes"></a> Description classes</h3>
<p align="left">For each selected database table, a class is also created from
an unique template, mapping the database table. This template is:</p>

<br><code>indexing<br>
&nbsp;&nbsp;&nbsp; description: "Description of class &lt;CN:U>"<br>
&nbsp;&nbsp;&nbsp; author: "EiffelStore Wizard"<br>
&nbsp;&nbsp;&nbsp; date: "$Date$"<br>
&nbsp;&nbsp;&nbsp; revision: "$Revision$"<br>
<br>
class<br>
&nbsp;&nbsp;&nbsp; &lt;CN:U>_DESCRIPTION<br>
<br>
inherit<br>
&nbsp;&nbsp;&nbsp; DB_TABLE_DESCRIPTION<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --		rename<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --			Tables as Abstract_tables<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; undefine<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Tables,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; is_valid_code<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>
<br>
	DB_SPECIFIC_TABLES_ACCESS_USE<br>
<br>
create<br>
&nbsp;&nbsp;&nbsp; {DB_SPECIFIC_TABLES_ACCESS} make<br>
<br>
feature -- Access<br>
<br>
&nbsp;&nbsp;&nbsp; Table_name: STRING is "&lt;CN:U>"<br>
<br>
&nbsp;&nbsp;&nbsp; Table_code: INTEGER is &lt;CI><br>
<br>
&nbsp;&nbsp;&nbsp; Attribute_number: INTEGER is &lt;ACNT><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Number of attributes in the table.<br>
<br>
&nbsp;&nbsp;&nbsp; Id_code: INTEGER is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Table ID attribute code.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Result := &lt;IC><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>
<br>
&nbsp;&nbsp;&nbsp; &lt;A:A:A>	&lt;AN:I>: INTEGER is &lt;IT><br>
<br>
&lt;/A>	attribute_code_list: ARRAYED_LIST [INTEGER] is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Feature code list<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; once<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; create Result.make
(Attribute_number)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;A:A:A>			Result.extend (&lt;AN:I>)<br>
&lt;/A>		end<br>
<br>
&nbsp;&nbsp;&nbsp; description_list: ARRAYED_LIST [STRING] is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Feature name list. Can be interpreted as a list<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- or a hash-table.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; once<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; create Result.make (Attribute_number)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;A:A:A>			Result.extend ("&lt;AN:I>")<br>
&lt;/A>		end<br>
<br>
&nbsp;&nbsp;&nbsp; type_list: ARRAYED_LIST [INTEGER] is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Feature type list. Can be interpreted as a list<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- or a hash-table.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; once<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; create Result.make (Attribute_number)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;A:A:A>			Result.extend (&lt;TN:I>_type)<br>
&lt;/A>		end<br>
<br>
&nbsp;&nbsp;&nbsp; to_delete_fkey_from_table: HASH_TABLE [INTEGER, INTEGER] is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- List of tables depending on this one and their<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- foreign key for this table.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Deletion on this table may imply deletions on<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- depending tables.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; once<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;DH>		end<br>
<br>
&nbsp;&nbsp;&nbsp; to_create_fkey_from_table: HASH_TABLE [INTEGER, INTEGER] is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- List of associated necessary tables and the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- linking foreign keys.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Creation on this table may imply creations on<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- associated necessary tables.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; once<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;CH>		end<br>
<br>
&nbsp;&nbsp;&nbsp; attribute (i: INTEGER): ANY is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Get feature value of feature whose code is 'i'.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inspect i<br>
&lt;A:A:A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; when &lt;AN:I> then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Result := &lt;CN:L>.&lt;AN:L><br>
&lt;/A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>
<br>
&nbsp;&nbsp;&nbsp; set_attribute (i: INTEGER; value: ANY) is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Set feature value of feature whose code is `i' to `value'.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- `value' must be of type STRING, INTEGER, BOOLEAN, CHARACTER,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- DOUBLE or DATE_TIME. References are made automatically from<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- expanded types.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; local<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; integer_value: INTEGER_REF<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double_value: DOUBLE_REF<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; boolean_value: BOOLEAN_REF<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; character_value: CHARACTER_REF<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; date_time_value: DATE_TIME<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string_value: STRING<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inspect i<br>
&lt;A:S:A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; when &lt;AN:I> then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
string_value ?= value<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;CN:L>.set_&lt;AN:L> (string_value)<br>
&lt;/A>&lt;A:F:A>&nbsp;&nbsp;&nbsp;&nbsp; when &lt;AN:I> then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
double_value ?= value<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
if double_value /= Void then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;CN:L>.set_&lt;AN:L> (double_value.item)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
else<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;CN:L>.set_&lt;AN:L> (0.0)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
end<br>
&lt;/A>&lt;A:I:A>&nbsp;&nbsp;&nbsp;&nbsp; when &lt;AN:I> then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
integer_value ?= value<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
if integer_value /= Void then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;CN:L>.set_&lt;AN:L> (integer_value.item)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
else<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;CN:L>.set_&lt;AN:L> (0)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
end<br>
&lt;/A>&lt;A:D:A>&nbsp;&nbsp;&nbsp;&nbsp; when &lt;AN:I> then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
date_time_value ?= value<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;CN:L>.set_&lt;AN:L> (date_time_value)<br>
&lt;/A>&lt;A:C:A>&nbsp;&nbsp;&nbsp;&nbsp; when &lt;AN:I> then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
character_value ?= value<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
if character_value /= Void then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;CN:L>.set_&lt;AN:L> (character_value.item)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
else<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;CN:L>.set_&lt;AN:L> ('%U')<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
end<br>
&lt;/A>&lt;A:B:A>&nbsp;&nbsp;&nbsp;&nbsp; when &lt;AN:I> then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
boolean_value ?= value<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
if boolean_value /= Void then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;CN:L>.set_&lt;AN:L> (boolean_value.item)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
else<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;CN:L>.set_&lt;AN:L> (False)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
end<br>
&lt;/A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>
<br>
feature {&lt;CN:U>} -- Basic operations<br>
<br>
&nbsp;&nbsp;&nbsp; set_&lt;CN:L> (a_&lt;CN:L>: &lt;CN:U>) is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Associate the description to a piece of &lt;CN:L>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; require<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; not_void: a_&lt;CN:L> /= Void<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;CN:L> := a_&lt;CN:L><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ensure<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;CN:L> = a_&lt;CN:L><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>
<br>
feature {NONE} -- Implementation<br>
<br>
&nbsp;&nbsp;&nbsp; &lt;CN:L>: &lt;CN:U><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Piece of &lt;CN:L> associated with the description&nbsp;<br>
<br>
end -- class CODES_DESCRIPTION</code><br>

<p align="left" class="Note"><b>Note</b>: As for the table class generation, the template content can be adjusted,
for instance to add comments or change the indexing. However, the fundamental
template structure should not be changed.&nbsp;</p>

<p align="left">Some additional tags are directly replaced by the wizard:</p>
<ul>
  <li>
    <p align="left">The &lt;CR&gt; and &lt;DR&gt; tags are replaced with
    information on associated tables.</li>
  <li>
    <p align="left">The &lt;IC&gt; tag is replaced by information on the primary
    key (table ID).</li>
  <li>
    <p align="left">The &lt;CI&gt; tag is replaced by the table position in the
    database.</li>
</ul>
<h3 align="left">2.3.3. <a name="wiz_access_class"></a> Access class</h3>
<p align="left">The <SPAN class="eclass">DB_SPECIFIC_TABLES_ACCESS</SPAN> class is mapped to the database
from the following template:</p>

<br><code>
indexing<br>
&nbsp;&nbsp;&nbsp; description: "Description of database tables.%<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %Use this class through DB_SPECIFIC_TABLES_ACCESS_USE."<br>
&nbsp;&nbsp;&nbsp; author: "EiffelStore Wizard"<br>
&nbsp;&nbsp;&nbsp; date: "$Date$"<br>
&nbsp;&nbsp;&nbsp; revision: "$Revision$"<br>
<br>
class<br>
&nbsp;&nbsp;&nbsp; DB_SPECIFIC_TABLES_ACCESS<br>
<br>
inherit<br>
&nbsp;&nbsp;&nbsp; DB_TABLES_ACCESS<br>
<br>
creation<br>
&nbsp;&nbsp;&nbsp; make<br>
<br>
feature -- Access<br>
<br>
&nbsp;&nbsp;&nbsp; &lt;A:A:A>	&lt;CN:I>: INTEGER is &lt;IT><br>
<br>
&lt;/A>	Table_number: INTEGER is &lt;ACNT><br>
<br>
&nbsp;&nbsp;&nbsp; code_list: ARRAYED_LIST [INTEGER] is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Table code list.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; once<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; create Result.make (Table_number)<br>
&lt;A:A:A>&nbsp;&nbsp;&nbsp;&nbsp; Result.extend (&lt;CN:I>)<br>
&lt;/A>&nbsp;&nbsp;&nbsp; end<br>
<br>
&nbsp;&nbsp;&nbsp; name_list: ARRAYED_LIST [STRING] is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Table name list. Can be interpreted as a list<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- or a hash-table.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; once<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; create Result.make (Table_number)<br>
&lt;A:A:A>&nbsp;&nbsp;&nbsp;&nbsp; Result.extend ("&lt;CN:I>")<br>
&lt;/A>&nbsp;&nbsp;&nbsp; end<br>
<br>
&nbsp;&nbsp;&nbsp; obj (i: INTEGER): DB_TABLE is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Return instance of table with code `i'.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inspect i<br>
&lt;A:A:A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; when &lt;CN:I> then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
create {&lt;CN:U>} Result.make<br>
&lt;/A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>
<br>
&nbsp;&nbsp;&nbsp; description (i: INTEGER): DB_TABLE_DESCRIPTION is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Return description of table with code `i'.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inspect i<br>
&lt;A:A:A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; when &lt;CN:I> then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Result := &lt;CN:L>_description<br>
&lt;/A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>
<br>
&lt;A:A:A>	&lt;CN:L>_description: &lt;CN:U>_DESCRIPTION is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- Unique description of table `&lt;CN:U>'.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; once<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; create Result.make<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>
<br>
&lt;/A><br>
end -- class DB_SPECIFIC_TABLES_ACCESS
</code>

</body>

</html>
