<?xml version="1.0"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
  <Fragment>
    <?ifdef EiffelStudio?>
      <UI Id="UI.dialog_choose_precompile">
        <RadioButtonGroup Property="PRECOMPILE">
          <RadioButton Value="none" X="5" Y="5" Width="154" Height="14" Text="D&amp;o not precompile any libraries" />
          <RadioButton Value="base" X="5" Y="19" Width="154" Height="14" Text="&amp;EiffelBase" />
          <RadioButton Value="wel" X="5" Y="33" Width="154" Height="14" Text="EiffelBase and &amp;WEL" />
          <RadioButton Value="vision2" X="5" Y="47" Width="154" Height="14" Text="EiffelBase, WEL and Eiffel&amp;Vision2" />
        </RadioButtonGroup>
        
        <Dialog Id="DialogPrecompileChoice" Width="375" Height="220" Title="[ProductName]">
          <Control Id="Bitmap" Type="Bitmap" X="0" Y="0" Width="375" Height="220" TabSkip="no" Text="backdrop_pre.bmp">
            <Condition Action="hide"><![CDATA[SELECTEDCCOMPILER = "msc" AND CANCCOMPILE = "0"]]></Condition>
            <Condition Action="show"><![CDATA[SELECTEDCCOMPILER <> "msc" OR CANCCOMPILE = "1"]]></Condition>
          </Control>
          <Control Id="BitmapAlt" Type="Bitmap" X="0" Y="0" Width="375" Height="220" TabSkip="no" Text="backdrop_prew.bmp">
            <Condition Action="hide"><![CDATA[SELECTEDCCOMPILER <> "msc" OR CANCCOMPILE = "1"]]></Condition>
            <Condition Action="show"><![CDATA[SELECTEDCCOMPILER = "msc" AND CANCCOMPILE = "0"]]></Condition>
          </Control>
          <Control Id="Title" Type="Text" X="56" Y="13" Width="310" Height="22" Transparent="yes" NoPrefix="yes">
            <Text>[BigFont]Precompiled Libraries</Text>
          </Control>
          <Control Id="SubTitle" Type="Text" X="56" Y="35" Width="302" Height="13" Transparent="yes" NoPrefix="yes">
            <Text>[SubTitleFont]Please indicate which libraries should be precompiled</Text>
            <Condition Action="hide"><![CDATA[SELECTEDCCOMPILER = "msc" AND CANCCOMPILE = "0"]]></Condition>
            <Condition Action="show"><![CDATA[SELECTEDCCOMPILER <> "msc" OR CANCCOMPILE = "1"]]></Condition>
          </Control>
          <Control Id="SubTitleAlt" Type="Text" X="56" Y="35" Width="309" Height="13" Transparent="yes" NoPrefix="yes">
            <Text>[SubTitleFont]Unable to find a C/C++ compiler</Text>
            <Condition Action="hide"><![CDATA[SELECTEDCCOMPILER <> "msc" OR CANCCOMPILE = "1"]]></Condition>
            <Condition Action="show"><![CDATA[SELECTEDCCOMPILER = "msc" AND CANCCOMPILE = "0"]]></Condition>
          </Control>
          <Control Id="Description" Type="Text" X="11" Y="70" Width="354" Height="40" Transparent="yes" NoPrefix="yes">
            <Text>The [ProductName] installer can automatically precompile some libraries to accelerate the development of new projects. It is highly recommended to precompile at least EiffelBase.</Text>
            <Condition Action="hide"><![CDATA[SELECTEDCCOMPILER = "msc" AND CANCCOMPILE = "0"]]></Condition>
            <Condition Action="show"><![CDATA[SELECTEDCCOMPILER <> "msc" OR CANCCOMPILE = "1"]]></Condition>
          </Control>
          <Control Id="DescriptionAlt" Type="Text" X="11" Y="70" Width="354" Height="40" Transparent="yes" NoPrefix="yes">
            <Text>The [ProductName] installer cannot precompile some libraries because a compatible C/C++ cannot be found on your system. [CANCCOMPILEERROR]</Text>
            <Condition Action="hide"><![CDATA[SELECTEDCCOMPILER <> "msc" OR CANCCOMPILE = "1"]]></Condition>
            <Condition Action="show"><![CDATA[SELECTEDCCOMPILER = "msc" AND CANCCOMPILE = "0"]]></Condition>
          </Control>
          <Control Id="Choice" Type="RadioButtonGroup" X="40" Y="108" Width="168" Height="63" Property="PRECOMPILE" TabSkip="no" Disabled="yes">
            <Condition Action="enable"><![CDATA[SELECTEDCCOMPILER <> "msc" OR CANCCOMPILE = "1"]]></Condition>
            <Condition Action="disable"><![CDATA[SELECTEDCCOMPILER = "msc" AND CANCCOMPILE = "0"]]></Condition>
          </Control>
          <Control Id="Next" Type="PushButton" X="242" Y="193" Width="56" Height="17" Default="yes" Text="[Button_Next]">
            <Publish Event="NewDialog" Value="DialogVerifyReadyInstall">1</Publish>
          </Control>
          <Control Id="Back" Type="PushButton" X="187" Y="193" Width="56" Height="17" Text="[Button_Back]">
            <Publish Event="NewDialog" Value="DialogCCompilerChoice"><![CDATA[(SELECTEDCCOMPILER <> "msc" OR CANCCOMPILE = "1") AND CHECKCCOMPILER <> "1" AND HASMSCCOMPILER <> "1"]]></Publish>
            <Publish Event="NewDialog" Value="DialogSelectFolder"><![CDATA[(SELECTEDCCOMPILER <> "msc" OR CANCCOMPILE = "1") AND CHECKCCOMPILER = "1" OR HASMSCCOMPILER = "1"]]></Publish>
            <Publish Event="NewDialog" Value="DialogMissingMsCompilerWarning"><![CDATA[SELECTEDCCOMPILER = "msc" AND CANCCOMPILE = "0"]]></Publish>
          </Control>
          <Control Id="Cancel" Type="PushButton" X="309" Y="193" Width="56" Height="17" Cancel="yes" Text="[Button_Cancel]">
            <Publish Event="SpawnDialog" Value="PromptCancelInstall">1</Publish>
          </Control>
        </Dialog>
      </UI>
    <?endif?>
  </Fragment>
</Wix>
