<HTML>
	<HEAD>
		
<META NAME="generator" CONTENT="ISE EiffelStudio version 5.1.7">
		
<TITLE>TEXT_FILLER Flat contracts</TITLE>
		
<LINK REL="stylesheet" HREF="/default.css" TYPE="text/css">

	</HEAD>

	<BODY>
<PRE><SPAN CLASS="ekeyword">indexing</SPAN>
	<SPAN CLASS="eitag">description</SPAN><SPAN CLASS="esymbol">:</SPAN> <SPAN CLASS="estring">"Buffered files or strings for lexical analysis"</SPAN>
	<SPAN CLASS="eitag">comment</SPAN><SPAN CLASS="esymbol">:</SPAN> <SPAN CLASS="estring">"See detailed comment at end of class"</SPAN>
	<SPAN CLASS="eitag">status</SPAN><SPAN CLASS="esymbol">:</SPAN> <SPAN CLASS="estring">"See notice at end of class"</SPAN>
	<SPAN CLASS="eitag">date</SPAN><SPAN CLASS="esymbol">:</SPAN> <SPAN CLASS="estring">"$Date$"</SPAN>
	<SPAN CLASS="eitag">revision</SPAN><SPAN CLASS="esymbol">:</SPAN> <SPAN CLASS="estring">"$Revision$"</SPAN>

<SPAN CLASS="ekeyword">deferred</SPAN> <SPAN CLASS="ekeyword">class</SPAN> <SPAN CLASS="ekeyword">interface</SPAN>
	<A CLASS="eclass" HREF="../../../lex/reference/lex/text_filler.html">TEXT_FILLER</A>

<SPAN CLASS="ekeyword">feature</SPAN> <SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> Access</SPAN>

	<A NAME="f_buffer"><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_buffer">buffer</A><SPAN CLASS="esymbol">:</SPAN> <A CLASS="eclass" HREF="../../../base/reference/kernel/string.html">STRING</A></A>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> Buffer filled by fill_buffer</SPAN>

	<A NAME="f_char_buffered_number"><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_char_buffered_number">char_buffered_number</A><SPAN CLASS="esymbol">:</SPAN> <A CLASS="eclass" HREF="../../../base/reference/kernel/integer.html">INTEGER</A></A>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> Number of characters read and written</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> in buffer since the beginning</SPAN>

	<A NAME="f_column_nb_array"><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_column_nb_array">column_nb_array</A><SPAN CLASS="esymbol">:</SPAN> <A CLASS="eclass" HREF="../../../lex/reference/lex/lex_array.html">LEX_ARRAY</A> <SPAN CLASS="esymbol">[</SPAN><A CLASS="eclass" HREF="../../../base/reference/kernel/integer.html">INTEGER</A><SPAN CLASS="esymbol">]</SPAN></A>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> Array recording the column numbers of each buffered</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> character (the column number of the </SPAN><SPAN CLASS="equoted">i</SPAN><SPAN CLASS="ecomment">-th character in the</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> buffer is the </SPAN><SPAN CLASS="equoted">i</SPAN><SPAN CLASS="ecomment">-th entry of </SPAN><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_column_nb_array">column_nb_array</A><SPAN CLASS="ecomment">)</SPAN>

	<A NAME="f_file_name"><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_file_name">file_name</A><SPAN CLASS="esymbol">:</SPAN> <A CLASS="eclass" HREF="../../../base/reference/kernel/string.html">STRING</A>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> Name of input file</SPAN>
</A>
	<A NAME="f_line_nb_array"><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_line_nb_array">line_nb_array</A><SPAN CLASS="esymbol">:</SPAN> <A CLASS="eclass" HREF="../../../lex/reference/lex/lex_array.html">LEX_ARRAY</A> <SPAN CLASS="esymbol">[</SPAN><A CLASS="eclass" HREF="../../../base/reference/kernel/integer.html">INTEGER</A><SPAN CLASS="esymbol">]</SPAN></A>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> Array recording the line numbers of each buffered</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> character (the line number of the </SPAN><SPAN CLASS="equoted">i</SPAN><SPAN CLASS="ecomment">-th character in the</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> buffer is the </SPAN><SPAN CLASS="equoted">i</SPAN><SPAN CLASS="ecomment">-th entry of </SPAN><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_line_nb_array">line_nb_array</A><SPAN CLASS="ecomment">)</SPAN>
	
<SPAN CLASS="ekeyword">feature</SPAN> <SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> Status setting</SPAN>

	<A NAME="f_close_file"><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_close_file">close_file</A>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> Close input file if any.</SPAN>
		<SPAN CLASS="ekeyword">ensure</SPAN>
			<SPAN CLASS="etag">file_is_void</SPAN><SPAN CLASS="esymbol">:</SPAN> <A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_file">file</A> <SPAN CLASS="esymbol">=</SPAN> <A CLASS="efeature" HREF="../../../base/reference/kernel/any.html#f_void">void</A>
</A>
	<A NAME="f_create_buffers"><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_create_buffers">create_buffers</A> <SPAN CLASS="esymbol">(</SPAN><SPAN CLASS="elocal">buf</SPAN><SPAN CLASS="esymbol">,</SPAN> <SPAN CLASS="elocal">lin</SPAN><SPAN CLASS="esymbol">:</SPAN> <A CLASS="eclass" HREF="../../../base/reference/kernel/integer.html">INTEGER</A><SPAN CLASS="esymbol">)</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> Create buffers and mask.</SPAN>
		<SPAN CLASS="ekeyword">ensure</SPAN>
			<A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_buffer_size">buffer_size</A> <SPAN CLASS="esymbol">=</SPAN> <SPAN CLASS="elocal">buf</SPAN>
			<A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_line_length">line_length</A> <SPAN CLASS="esymbol">=</SPAN> <SPAN CLASS="elocal">lin</SPAN>
</A>
	<A NAME="f_exclude"><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_exclude">exclude</A> <SPAN CLASS="esymbol">(</SPAN><SPAN CLASS="elocal">i</SPAN><SPAN CLASS="esymbol">,</SPAN> <SPAN CLASS="elocal">j</SPAN><SPAN CLASS="esymbol">:</SPAN> <A CLASS="eclass" HREF="../../../base/reference/kernel/integer.html">INTEGER</A><SPAN CLASS="esymbol">)</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> Discard columns </SPAN><SPAN CLASS="equoted">i</SPAN><SPAN CLASS="ecomment"> to </SPAN><SPAN CLASS="equoted">j</SPAN><SPAN CLASS="ecomment"> from the input.</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> A zero value for </SPAN><SPAN CLASS="equoted">j</SPAN><SPAN CLASS="ecomment"> means all the way to the</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> end of the line.</SPAN>
		<SPAN CLASS="ekeyword">require</SPAN>
			<SPAN CLASS="etag">i_positive</SPAN><SPAN CLASS="esymbol">:</SPAN> <SPAN CLASS="elocal">i</SPAN> <A CLASS="esymbol" HREF="../../../base/reference/kernel/comparable.html#f__infix_gt">&gt;</A> <SPAN CLASS="enumber">0</SPAN>
			<SPAN CLASS="etag">j_null_or_greater_than_i</SPAN><SPAN CLASS="esymbol">:</SPAN> <SPAN CLASS="elocal">j</SPAN> <SPAN CLASS="esymbol">=</SPAN> <SPAN CLASS="enumber">0</SPAN> <SPAN CLASS="ekeyword">or</SPAN> <SPAN CLASS="elocal">j</SPAN> <A CLASS="esymbol" HREF="../../../base/reference/kernel/comparable.html#f__infix_ge">&gt;=</A> <SPAN CLASS="elocal">i</SPAN>
</A>
	<A NAME="f_fill_buffer"><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_fill_buffer">fill_buffer</A> <SPAN CLASS="esymbol">(</SPAN><SPAN CLASS="elocal">b</SPAN><SPAN CLASS="esymbol">:</SPAN> <A CLASS="eclass" HREF="../../../base/reference/kernel/integer.html">INTEGER</A><SPAN CLASS="esymbol">)</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> Copy the characters from the </SPAN><SPAN CLASS="equoted">b</SPAN><SPAN CLASS="ecomment">+1-st to the last one in</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> the beginning of the buffer and then fill the end of</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> the buffer with the text. This routine skips the columns</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> forbidden by exclude, but always puts '\n' at the end</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> of a line; the line and column numbers are those of</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> the characters in the real file.</SPAN>
		<SPAN CLASS="ekeyword">require</SPAN>
			<SPAN CLASS="etag">buffer_created</SPAN><SPAN CLASS="esymbol">:</SPAN> <A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_buffer">buffer</A> <SPAN CLASS="esymbol">/=</SPAN> <A CLASS="efeature" HREF="../../../base/reference/kernel/any.html#f_void">void</A>
			<SPAN CLASS="etag">c_buffer_created</SPAN><SPAN CLASS="esymbol">:</SPAN> <A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_column_nb_array">column_nb_array</A> <SPAN CLASS="esymbol">/=</SPAN> <A CLASS="efeature" HREF="../../../base/reference/kernel/any.html#f_void">void</A>
			<SPAN CLASS="etag">l_buffer_created</SPAN><SPAN CLASS="esymbol">:</SPAN> <A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_line_nb_array">line_nb_array</A> <SPAN CLASS="esymbol">/=</SPAN> <A CLASS="efeature" HREF="../../../base/reference/kernel/any.html#f_void">void</A>
			<SPAN CLASS="etag">b_not_too_large</SPAN><SPAN CLASS="esymbol">:</SPAN> <SPAN CLASS="elocal">b</SPAN> <A CLASS="esymbol" HREF="../../../base/reference/kernel/comparable.html#f__infix_le">&lt;=</A> <A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_buffer_size">buffer_size</A>
			<SPAN CLASS="etag">b_positive</SPAN><SPAN CLASS="esymbol">:</SPAN> <SPAN CLASS="elocal">b</SPAN> <A CLASS="esymbol" HREF="../../../base/reference/kernel/comparable.html#f__infix_ge">&gt;=</A> <SPAN CLASS="enumber">0</SPAN>
</A>
	<A NAME="f_fill_whole_buffer"><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_fill_whole_buffer">fill_whole_buffer</A>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> Fill with new characters.</SPAN>
</A>
	<A NAME="f_resize_and_fill_buffer"><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_resize_and_fill_buffer">resize_and_fill_buffer</A> <SPAN CLASS="esymbol">(</SPAN><SPAN CLASS="elocal">buf</SPAN><SPAN CLASS="esymbol">,</SPAN> <SPAN CLASS="elocal">b</SPAN><SPAN CLASS="esymbol">:</SPAN> <A CLASS="eclass" HREF="../../../base/reference/kernel/integer.html">INTEGER</A><SPAN CLASS="esymbol">)</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> When increasing </SPAN><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_buffer_size">buffer_size</A><SPAN CLASS="ecomment">: resize the buffer and then</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> fill the new buffer.</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> When decreasing </SPAN><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_buffer_size">buffer_size</A><SPAN CLASS="ecomment">: fill the buffer and then</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> resize it.</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> When filling the buffer: Copy the characters from the</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> </SPAN><SPAN CLASS="equoted">b</SPAN><SPAN CLASS="ecomment">+1-st to the last one (of the buffer before resizing) in</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> the beginning of the buffer and then fill</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> the end of the buffer (after resizing) with the text.</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> This routine skips the columns</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> forbidden by exclude, but always puts '\n' at the end</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> of a line; the line and column numbers are those of</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> the characters in the real file.</SPAN>
		<SPAN CLASS="ekeyword">require</SPAN>
			<SPAN CLASS="etag">buffer_created</SPAN><SPAN CLASS="esymbol">:</SPAN> <A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_buffer">buffer</A> <SPAN CLASS="esymbol">/=</SPAN> <A CLASS="efeature" HREF="../../../base/reference/kernel/any.html#f_void">void</A>
			<SPAN CLASS="etag">c_buffer_created</SPAN><SPAN CLASS="esymbol">:</SPAN> <A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_column_nb_array">column_nb_array</A> <SPAN CLASS="esymbol">/=</SPAN> <A CLASS="efeature" HREF="../../../base/reference/kernel/any.html#f_void">void</A>
			<SPAN CLASS="etag">l_buffer_created</SPAN><SPAN CLASS="esymbol">:</SPAN> <A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_line_nb_array">line_nb_array</A> <SPAN CLASS="esymbol">/=</SPAN> <A CLASS="efeature" HREF="../../../base/reference/kernel/any.html#f_void">void</A>
			<SPAN CLASS="etag">b_not_too_large</SPAN><SPAN CLASS="esymbol">:</SPAN> <SPAN CLASS="elocal">b</SPAN> <A CLASS="esymbol" HREF="../../../base/reference/kernel/comparable.html#f__infix_le">&lt;=</A> <A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_buffer_size">buffer_size</A>
			<SPAN CLASS="etag">b_positive</SPAN><SPAN CLASS="esymbol">:</SPAN> <SPAN CLASS="elocal">b</SPAN> <A CLASS="esymbol" HREF="../../../base/reference/kernel/comparable.html#f__infix_ge">&gt;=</A> <SPAN CLASS="enumber">0</SPAN>
		<SPAN CLASS="ekeyword">ensure</SPAN>
			<A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_buffer_size">buffer_size</A> <SPAN CLASS="esymbol">=</SPAN> <SPAN CLASS="elocal">buf</SPAN>
</A>
	<A NAME="f_set_file"><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_set_file">set_file</A> <SPAN CLASS="esymbol">(</SPAN><SPAN CLASS="elocal">f_name</SPAN><SPAN CLASS="esymbol">:</SPAN> <A CLASS="eclass" HREF="../../../base/reference/kernel/string.html">STRING</A><SPAN CLASS="esymbol">)</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> Use </SPAN><SPAN CLASS="equoted">f_name</SPAN><SPAN CLASS="ecomment"> as input file.</SPAN>
		<SPAN CLASS="ekeyword">require</SPAN>
			<SPAN CLASS="etag">file_name_not_void</SPAN><SPAN CLASS="esymbol">:</SPAN> <SPAN CLASS="elocal">f_name</SPAN> <SPAN CLASS="esymbol">/=</SPAN> <A CLASS="efeature" HREF="../../../base/reference/kernel/any.html#f_void">void</A>
</A>
	<A NAME="f_set_string"><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_set_string">set_string</A> <SPAN CLASS="esymbol">(</SPAN><SPAN CLASS="elocal">s</SPAN><SPAN CLASS="esymbol">:</SPAN> <A CLASS="eclass" HREF="../../../base/reference/kernel/string.html">STRING</A><SPAN CLASS="esymbol">)</SPAN>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> Use </SPAN><SPAN CLASS="equoted">s</SPAN><SPAN CLASS="ecomment"> as the input string.</SPAN>
		<SPAN CLASS="ekeyword">require</SPAN>
			<SPAN CLASS="etag">string_not_void</SPAN><SPAN CLASS="esymbol">:</SPAN> <SPAN CLASS="elocal">s</SPAN> <SPAN CLASS="esymbol">/=</SPAN> <A CLASS="efeature" HREF="../../../base/reference/kernel/any.html#f_void">void</A>
</A>	
<SPAN CLASS="ekeyword">feature</SPAN> <SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> Implementation</SPAN>

	<A NAME="f_buffer_size"><A CLASS="efeature" HREF="../../../lex/reference/lex/text_filler.html#f_buffer_size">buffer_size</A><SPAN CLASS="esymbol">:</SPAN> <A CLASS="eclass" HREF="../../../base/reference/kernel/integer.html">INTEGER</A></A>
			<SPAN CLASS="ecomment">--</SPAN><SPAN CLASS="ecomment"> Buffer size</SPAN>
	
<SPAN CLASS="ekeyword">invariant</SPAN>

		<SPAN CLASS="ecomment">--</SPAN> <SPAN CLASS="ecomment">from </SPAN><A CLASS="eclass" HREF="../../../base/reference/kernel/any.html">ANY</A>
	<SPAN CLASS="etag">reflexive_equality</SPAN><SPAN CLASS="esymbol">:</SPAN> <A CLASS="efeature" HREF="../../../base/reference/kernel/any.html#f_standard_is_equal">standard_is_equal</A> <SPAN CLASS="esymbol">(</SPAN><SPAN CLASS="ereserved">Current</SPAN><SPAN CLASS="esymbol">)</SPAN>
	<SPAN CLASS="etag">reflexive_conformance</SPAN><SPAN CLASS="esymbol">:</SPAN> <A CLASS="efeature" HREF="../../../base/reference/kernel/any.html#f_conforms_to">conforms_to</A> <SPAN CLASS="esymbol">(</SPAN><SPAN CLASS="ereserved">Current</SPAN><SPAN CLASS="esymbol">)</SPAN>

<SPAN CLASS="ekeyword">end</SPAN> -- <SPAN CLASS="ecomment">class </SPAN>TEXT_FILLER</PRE>

</BODY>

</HTML>

